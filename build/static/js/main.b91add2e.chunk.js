(this.webpackJsonpadventure=this.webpackJsonpadventure||[]).push([[0],{14:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),o=a(9),r=a.n(o),i=(a(14),a(1)),l=a(3),c=a(6),p=a(5),d=a(4),u=a(0),h=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{id:"start",children:"Begin Adventure"})}}]),a}(s.a.Component),m=a(7);var b=function(e){return s.a.useEffect((function(){document.getElementById("strInfo").focus()})),Object(u.jsxs)("div",{id:"strInfo",className:"statInfo",tabIndex:"0",onBlur:function(){e.dismiss("str")},children:["Strength represents your physical and athletic abilities and is used when calculating damage using melee weapons such as swords.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Every 4 points of Strength increases your damage with these weapons by 1."]})};var f=function(e){return s.a.useEffect((function(){document.getElementById("dexInfo").focus()})),Object(u.jsxs)("div",{id:"dexInfo",className:"statInfo",tabIndex:"0",onBlur:function(){e.dismiss("dex")},children:["Dexterity represents your nimbleness and skill and is used when calculating damage using ranged weapons such as bows.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Every 4 points of Dexterity increases your damage with these weapons by 1."]})};var j=function(e){return s.a.useEffect((function(){document.getElementById("intInfo").focus()})),Object(u.jsxs)("div",{id:"intInfo",className:"statInfo",tabIndex:"0",onBlur:function(){e.dismiss("int")},children:["Intelligence represents your ability to acquire and apply knowledge and is used for spellcasting.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Every 4 points of Intelligence increases the damage you deal using spells by 1."]})};var g,y=function(e){return s.a.useEffect((function(){document.getElementById("vitInfo").focus()})),Object(u.jsxs)("div",{id:"vitInfo",className:"statInfo",tabIndex:"0",onBlur:function(){e.dismiss("vit")},children:["Vitality represents your physical and mental resilience and affects your total hit points.",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),"Each point of Vitality gives you 1 additional hit point."]})},v=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).update=function(e){var t=e.target.dataset.action,a=Number(e.target.dataset.stat);if("+"===t)switch(a){default:break;case 0:if(0===n.props.allocate.points)break;n.props.statsHandler(1,0,0,0),n.props.allocateHandler(!0,n.props.allocate.points-1);break;case 1:if(0===n.props.allocate.points)break;n.props.statsHandler(0,1,0,0),n.props.allocateHandler(!0,n.props.allocate.points-1);break;case 2:if(0===n.props.allocate.points)break;n.props.statsHandler(0,0,1,0),n.props.allocateHandler(!0,n.props.allocate.points-1);break;case 3:if(0===n.props.allocate.points)break;n.props.statsHandler(0,0,0,1),n.props.allocateHandler(!0,n.props.allocate.points-1)}else if("-"===t)switch(a){default:break;case 0:if(n.props.stats.stat.strength===g.strength)break;n.props.statsHandler(-1,0,0,0),n.props.allocateHandler(!0,n.props.allocate.points+1);break;case 1:if(n.props.stats.stat.dexterity===g.dexterity)break;n.props.statsHandler(0,-1,0,0),n.props.allocateHandler(!0,n.props.allocate.points+1);break;case 2:if(n.props.stats.stat.intelligence===g.intelligence)break;n.props.statsHandler(0,0,-1,0),n.props.allocateHandler(!0,n.props.allocate.points+1);break;case 3:if(n.props.stats.stat.vitality===g.vitality)break;n.props.statsHandler(0,0,0,-1),n.props.allocateHandler(!0,n.props.allocate.points+1)}},n.applyPoints=function(){n.props.allocateHandler(!1,0),2===n.props.value&&n.props.mainHandler(3,3)},n.key=function(e){32===e.keyCode&&n.update(e)},n.keyApply=function(e){32===e.keyCode&&n.applyPoints(e)},n.keyInfo=function(e,t){if(32===e.keyCode)switch(t){default:break;case"str":n.setState({showStrInfo:!0});break;case"dex":n.setState({showDexInfo:!0});break;case"int":n.setState({showIntInfo:!0});break;case"vit":n.setState({showVitInfo:!0})}},n.handleTooltipDismiss=function(e){switch(e){default:break;case"str":n.setState({showStrInfo:!1});break;case"dex":n.setState({showDexInfo:!1});break;case"int":n.setState({showIntInfo:!1});break;case"vit":n.setState({showVitInfo:!1})}},n.state={showStrInfo:!1,showDexInfo:!1,showIntInfo:!1,showVitInfo:!1},g=n.props.stats.stat,n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{id:"statisticsDiv",children:[Object(u.jsxs)("div",{className:"statsContainer",children:[!0===this.props.allocate.allocate&&Object(u.jsx)("div",{className:"statMinus","data-stat":0,"data-action":"-",onClick:this.update,onKeyDown:this.key,"aria-label":"Decrease Strength",tabIndex:"0",children:"-"}),Object(u.jsxs)("div",{className:"statistics",id:"statStr","data-stat":"str",onClick:function(){return e.setState({showStrInfo:!0})},onKeyDown:function(t){return e.keyInfo(t,"str")},tabIndex:"0",children:["Strength: ",this.props.stats.stat.strength]}),this.state.showStrInfo?Object(u.jsx)(b,{dismiss:this.handleTooltipDismiss}):null,!0===this.props.allocate.allocate&&Object(u.jsx)("div",{className:"statPlus","data-stat":0,"data-action":"+",onClick:this.update,onKeyDown:this.key,"aria-label":"Increase Strength",tabIndex:"0",children:"+"})]}),Object(u.jsxs)("div",{className:"statsContainer",children:[!0===this.props.allocate.allocate&&Object(u.jsx)("div",{className:"statMinus","data-stat":1,"data-action":"-",onClick:this.update,onKeyDown:this.key,"aria-label":"Decrease Dexterity",tabIndex:"0",children:"-"}),Object(u.jsxs)("div",{className:"statistics",id:"statDex","data-stat":"dex",onClick:function(){return e.setState({showDexInfo:!0})},onKeyDown:function(t){return e.keyInfo(t,"dex")},tabIndex:"0",children:["Dexterity: ",this.props.stats.stat.dexterity]}),this.state.showDexInfo?Object(u.jsx)(f,{dismiss:this.handleTooltipDismiss}):null,!0===this.props.allocate.allocate&&Object(u.jsx)("div",{className:"statPlus","data-stat":1,"data-action":"+",onClick:this.update,onKeyDown:this.key,"aria-label":"Increase Dexterity",tabIndex:"0",children:"+"})]}),Object(u.jsxs)("div",{className:"statsContainer",children:[!0===this.props.allocate.allocate&&Object(u.jsx)("div",{className:"statMinus","data-stat":2,"data-action":"-",onClick:this.update,onKeyDown:this.key,"aria-label":"Decrease Intelligence",tabIndex:"0",children:"-"}),Object(u.jsxs)("div",{className:"statistics",id:"statInt","data-stat":"int",onClick:function(){return e.setState({showIntInfo:!0})},onKeyDown:function(t){return e.keyInfo(t,"int")},tabIndex:"0",children:["Intelligence: ",this.props.stats.stat.intelligence]}),this.state.showIntInfo?Object(u.jsx)(j,{dismiss:this.handleTooltipDismiss}):null,!0===this.props.allocate.allocate&&Object(u.jsx)("div",{className:"statPlus","data-stat":2,"data-action":"+",onClick:this.update,onKeyDown:this.key,"aria-label":"Increase Intelligence",tabIndex:"0",children:"+"})]}),Object(u.jsxs)("div",{className:"statsContainer",children:[!0===this.props.allocate.allocate&&Object(u.jsx)("div",{className:"statMinus","data-stat":3,"data-action":"-",onClick:this.update,onKeyDown:this.key,"aria-label":"Decrease Vitality",tabIndex:"0",children:"-"}),Object(u.jsxs)("div",{className:"statistics",id:"statVit","data-stat":"vit",onClick:function(){return e.setState({showVitInfo:!0})},onKeyDown:function(t){return e.keyInfo(t,"vit")},tabIndex:"0",children:["Vitality: ",this.props.stats.stat.vitality]}),this.state.showVitInfo?Object(u.jsx)(y,{dismiss:this.handleTooltipDismiss}):null,!0===this.props.allocate.allocate&&Object(u.jsx)("div",{className:"statPlus","data-stat":3,"data-action":"+",onClick:this.update,onKeyDown:this.key,"aria-label":"Increase Vitality",tabIndex:"0",children:"+"})]}),Object(u.jsx)("div",{children:!0===e.props.allocate.allocate&&e.props.allocate.points>0?1===e.props.allocate.points?Object(u.jsxs)("div",{id:"pointsRemainingDiv",children:[e.props.allocate.points," point remaining"]}):Object(u.jsxs)("div",{id:"pointsRemainingDiv",children:[e.props.allocate.points," points remaining"]}):!0===e.props.allocate.allocate&&0===e.props.allocate.points?Object(u.jsx)("div",{id:"applyPointsDiv",onClick:e.applyPoints,onKeyDown:e.keyApply,tabIndex:"0",children:"Apply Points"}):void 0})]})}}]),a}(s.a.Component),w=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).itemRewards=function(){for(var t=[],a=0;a<e.props.receivedItems.length;a++)t.push(Object(u.jsxs)("p",{children:["You receive a ",e.props.receivedItems[a].name,"."]},a));return t},e}return Object(c.a)(a,[{key:"contentSelect",value:function(){switch(this.props.value){default:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"This is currently as far as the project goes. All systems have been implemented, I just haven't written all of the actual content yet."}),Object(u.jsx)("p",{children:"This project was just intended for me to practice and become more familiar with React, a goal which has definitely been fulfilled, but I may return and finish the actual game at some point."}),Object(u.jsx)("p",{children:"Thank you for playing!"})]});case"emptySpell":return Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("p",{children:"Your spell will not do anything useful here."})});case"spellScrollNoSpellbook":return Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("p",{children:"Unfortunately you have no spellbook to copy this scroll into."})});case"spellScroll":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You carefully copy the spell into your spellbook."}),Object(u.jsxs)("p",{children:["You add the ",this.props.latestSpell.name," spell to your spellbook."]})]});case"allSpells":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"It seems that you already know every spell that you can. You are truly a master of the arcane!"}),Object(u.jsx)("p",{children:"Since I have no more spells for you, have a slight increase to your Intelligence instead."})]});case 0:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You are standing before an imposing wooden door. The trees around you are silent as you take in the dark wood and iron bands of the door that leads into the depths of the mountain."}),Object(u.jsx)("p",{children:"You know that beyond it lies the infamous dungeon of Malthazor, the Mad Mage."}),Object(u.jsx)("p",{children:"You find yourself on a dangerous quest, but what has brought you here?"})]});case 1:switch(window.$motive){default:return"This is an error.";case"wealth":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"The lure of fabulous riches has drawn many adventurers to seek their fortune upon dangerous quests."}),Object(u.jsx)("p",{children:"But it would be folly to enter Malthazor's dungeon without proper preparation."}),Object(u.jsx)("p",{children:"What skills do you have?"})]});case"revenge":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"The righting of a terrible wrong. Surely there can be no nobler reason for setting out upon a dangerous quest. "}),Object(u.jsx)("p",{children:"But it would be folly to enter Malthazor's dungeon without proper preparation."}),Object(u.jsx)("p",{children:"What skills do you have?"})]});case"curiosity":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"The gathering of knowledge and secrets is always an irresistible call for certain individuals to embark upon a dangerous quest."}),Object(u.jsx)("p",{children:"But it would be folly to enter Malthazor's dungeon without proper preparation."}),Object(u.jsx)("p",{children:"What skills do you have?"})]})}case 2:return!0===this.props.allocate.allocate?Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"Choose your starting statistics."}),Object(u.jsx)("p",{children:"Select one of the statistics to see information about it."}),Object(u.jsx)(v,Object(i.a)(Object(i.a)({},this.props),{},{statsHandler:this.props.statsHandler,mainHandler:this.props.mainHandler,allocateHandler:this.props.allocateHandler}))]}):Object(u.jsx)("div",{className:"content",children:Object(u.jsx)(v,Object(i.a)(Object(i.a)({},this.props),{},{statsHandler:this.props.statsHandler,mainHandler:this.props.mainHandler,allocateHandler:this.props.allocateHandler}))});case 3:return Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("p",{children:"What weapon did you bring to Malthazor's Dungeon?"})});case 4:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"Your resolve steeled, you prepare to continue your quest."}),Object(u.jsx)("p",{children:"Who knows what kind of twisted labyrinth you are about to face?"}),Object(u.jsx)("p",{children:"You push open the heavy doors and enter the dungeon of Malthazor, the Mad Mage."})]});case 5:return Object(u.jsxs)("div",{className:"content",children:[!1!==this.props.actionCases.case5.every(Boolean)&&Object(u.jsx)("p",{children:"The heavy door closes behind you with a resounding thud."}),Object(u.jsx)("p",{children:"You are standing in a small stone antechamber. Flaming torches sit in sconces on the wall, casting a flickering glow across the small room."}),Object(u.jsx)("p",{children:"You are alone. Opposite you is a dark passage, the light from the torches falling short of the archway."}),Object(u.jsx)("p",{children:"All things considered, this is not as harrowing a start to Malthazor's dungeon as one might expect."}),Object(u.jsx)("p",{children:"What will you do?"})]});case 5.1:return Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("p",{children:"You attempt to open the door you passed through. Locked! Magically sealed! Or possibly just not openable from the inside. It would appear that retreat is not an option."})});case 5.2:return Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("p",{children:"You carefully wrench a torch free from the wall."})});case 5.3:return Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("p",{children:"You examine the torches around the wall. As you suspected, the torches are in fact magical in nature. The flame atop them will never burn down. Handy."})});case 6:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You enter the darkened passageway across the room."}),this.props.inventoryContents.find((function(e){return 4===e.id}))?Object(u.jsx)("p",{children:"You shine your torch to illuminate the way ahead of you."}):null,Object(u.jsx)("p",{children:"As you advance cautiously you spot movement in the darkness."}),Object(u.jsx)("p",{children:"A (surprisingly ambulatory) skeleton leaps from beyond your field of vision and attacks you!"})]});case"6loot":return Object(u.jsxs)("div",{className:"content",children:[!0===this.props.allocate.allocate&&Object(u.jsxs)("div",{className:"allocateNotification",children:[Object(u.jsx)("p",{children:"You have gained 2 points to improve your skills!"}),Object(u.jsx)("p",{className:"allocateNotificationSubtitle",children:"(You can allocate them in your Inventory.)"})]}),Object(u.jsx)("p",{children:"On the skeleton's head you see an old, but presumably still functional, leather helmet."}),Object(u.jsx)("p",{children:"It would be a shame to let it go to waste."}),this.props.inventoryContents.find((function(e){return 4===e.id}))?Object(u.jsx)("p",{children:"In the light of your torch, you also notice the glint of a small bottle tucked into an alcove in the wall. A healing potion!"}):null]});case 6.1:return Object(u.jsxs)("div",{className:"content",children:[this.props.inventoryContents.find((function(e){return 4===e.id}))?Object(u.jsx)("p",{children:"You have gained a Leather Helmet and a Healing Potion!"}):Object(u.jsx)("p",{children:"You have gained a Leather Helmet!"}),Object(u.jsx)("p",{children:"The Leather Helmet provides 1 point of armour while worn."}),Object(u.jsx)("p",{children:"Each point of armour reduces damage that you take by 1."})]});case 7:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"The first guardian of Malthazor's dungeon defeated, you face the passage beyond."}),Object(u.jsxs)("p",{children:["Wait, was that a guardian? ",Object(u.jsx)("span",{className:"textSmall",children:"It might have just been an angry local skeleton..."})]}),Object(u.jsx)("p",{children:"Regardless, it's been beaten, and your journey into the dungeon begins in earnest."}),Object(u.jsx)("p",{className:"contentExtra",children:"(From this point onward, the chambers you find yourself in will be randomly generated. The challenges that you face may be too powerful for you on your first attempt. Persevere and make it through enough of them while building your strength along the way and you might come face to face with Malthazor himself. Good luck.)"})]});case 8:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You are in some sort of library. The walls are covered almost entirely by bookshelves filled with ancient looking books."}),"curiosity"===window.$motive?Object(u.jsx)("p",{children:"Some of these books would doubtless be of value to you."}):null,Object(u.jsx)("p",{children:"There are no visible doors leading onward."}),Object(u.jsx)("p",{children:"What will you do?"})]});case 8.01:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You search the bookcases around the room for an exit."}),Object(u.jsx)("p",{children:"After a few minutes of searching, you find that one of the bookcases seems to be moveable."}),Object(u.jsx)("p",{children:"Success! With some effort you are able to pull the bookcase from its position and a doorway is revealed."})]});case 8.02:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You search the bookcases around the room for an exit."}),Object(u.jsx)("p",{children:"After a few minutes of searching, you find that one of the bookcases seems to be moveable."}),Object(u.jsx)("p",{children:"Calamity! With some effort you are able to pull the bookcase from its position and a doorway is revealed, but in the process some part of the mechanism injures you. "}),Object(u.jsx)("p",{children:"You take 4 points of damage!"})]});case 8.1:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You carefully examine the bookshelves that line the walls of this room, looking for a way out."}),Object(u.jsx)("p",{children:'Wait a moment, what was that? "An Exploration of Concealed Egress". What a preposterously suspicious name for a book.'}),Object(u.jsx)("p",{children:"You pull the book from the shelf and... Yes! The book is in fact part of a lever mechanism."}),Object(u.jsx)("p",{children:"To your left, a bookcase swings open, and the way forward is open."})]});case 8.2:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You spend some time perusing the books for signs of magical scribing."}),Object(u.jsx)("p",{children:"Eventually you find a battered volume that seems to have once been a spellbook, but only one spell is currently legible."}),Object(u.jsx)("p",{children:"Still, one is better than none!"}),Object(u.jsxs)("p",{children:["You add the ",this.props.latestSpell.name," spell to your own spellbook."]})]});case 8.3:return Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("p",{children:"You abstract a few of the most interesting looking books and add them to your pack."})});case"8fire":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("p",{children:["You unleash a ",this.props.previousSpell.name," into the room."]}),Object(u.jsx)("p",{children:"The room full of old books."}),Object(u.jsx)("p",{children:"..."}),Object(u.jsxs)("p",{children:["Highly ",Object(u.jsx)("strong",{children:"flammable"})," books."]}),Object(u.jsx)("p",{children:"You have only a few seconds to reflect upon the poor decision you made before the fire has engulfed the entire room, and you along with it."})]});case 9:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You are in an almost empty room with a single wooden chest in the center of it. "}),"wealth"===window.$motive?Object(u.jsx)("p",{children:"The allure of potential riches in that chest is tempting. After all, that's why you're here, isn't it?"}):null,Object(u.jsxs)("p",{children:["There is a door on the other side of the room","wealth"===window.$motive?", but your attention is focused on the chest":null,"."]}),Object(u.jsx)("p",{children:"What will you do?"})]});case 9.1:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You lift the heavy lid of the chest, eager to see what lies within."}),Object(u.jsx)("p",{children:"Unfortunately, what lies within is a large, fleshy purple tongue."}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"textSmall",children:"Strange... Why would somebody keep a tongue in a che-"})," Oh! It's a Mimic!"]}),Object(u.jsx)("p",{children:"The chest seemingly comes to life and attacks you!"})]});case 9.2:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You heave against the lid of the chest, straining to break the lock."}),Object(u.jsx)("p",{children:"There! A snapping sound! The heavy lid flies open and you peer inside to see what lies within."}),Object(u.jsx)("p",{children:"Unfortunately, what lies within is a large, fleshy purple tongue."}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"textSmall",children:"Strange... Why would somebody keep a tongue in a che-"})," Oh! It's a Mimic!"]}),Object(u.jsx)("p",{children:"The chest seemingly comes to life and attacks you!"})]});case 9.3:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"The Rusty Key looks as if it may be a fit for this lock."}),Object(u.jsx)("p",{children:"You try your luck and insert the key. The chances of success here are slim, given the sheer number of locks and keys in the world."}),Object(u.jsx)("p",{children:"But wait! A click! The Rusty Key works and unlocks the chest. You peer inside as you open the lid, to see what lies within."}),Object(u.jsx)("p",{children:"Unfortunately, what lies within is a large, fleshy purple tongue."}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"textSmall",children:"Strange... Why would somebody keep a tongue in a che-"})," Oh! It's a Mimic!"]}),Object(u.jsx)("p",{children:"The chest seemingly comes to life and attacks you!"})]});case"9unlock":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You chant the words of the Unlock spell from your spellbook, complete with the complicated and silly looking hand movements that are required to cast all spells."}),Object(u.jsx)("p",{children:"Success! You hear a click as the spell unlocks the chest. You peer inside as you open the lid, to see what lies within."}),Object(u.jsx)("p",{children:"Unfortunately, what lies within is a large, fleshy purple tongue."}),Object(u.jsxs)("p",{children:[Object(u.jsx)("span",{className:"textSmall",children:"Strange... Why would somebody keep a tongue in a che-"})," Oh! It's a Mimic!"]}),Object(u.jsx)("p",{children:"The chest seemingly comes to life and attacks you!"})]});case"9loot":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"The Mimic shudders violently... And stops moving."}),Object(u.jsx)("p",{children:"Its long purple tongue unfolds and reveals the items that it had been protecting."}),Object(u.jsx)("p",{className:"textSmall",children:"Or possibly had just eaten. You're not a mimicologist, you don't know about their diets or feeding habits."}),!0===this.props.allocate.allocate&&Object(u.jsxs)("div",{className:"allocateNotification",children:[Object(u.jsx)("p",{children:"You have gained 4 points to improve your skills!"}),Object(u.jsx)("p",{className:"allocateNotificationSubtitle",children:"(You can allocate them in your Inventory.)"})]})]});case 9.4:return Object(u.jsx)("div",{className:"content",children:this.itemRewards()});case 10:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You are in a room with a large hole in the ground. Well, more of a chasm really. It stretches across the entire room and is a clear impediment to your progress."}),Object(u.jsx)("p",{children:"There appears to be no other way forward. You will have to attempt to cross the chasm."}),Object(u.jsx)("p",{children:"What will you do?"})]});case 10.1:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You carefully peer over the edge of the chasm."}),Object(u.jsx)("p",{children:"It descends into darkness and you cannot see the bottom."}),Object(u.jsx)("p",{children:"Best not fall in."})]});case"10.2success":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You prepare to jump, balancing carefully before running towards the edge."}),Object(u.jsx)("p",{children:"You leap... and just barely clear the chasm, landing safely on the other side."}),Object(u.jsx)("p",{children:"A small piece of stone slips as you land and topples over the edge. You do not hear it hit the bottom."})]});case"10.2damage":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You prepare to jump, balancing carefully before running towards the edge."}),Object(u.jsx)("p",{children:"You leap... and almost clear the chasm. You slam into the opposite edge and scramble for purchase."}),Object(u.jsx)("p",{children:"Below you the chasm stretches into darkness, with no bottom in sight."}),Object(u.jsx)("p",{children:"As you catch your breath, you are able to slowly pull yourself up onto solid ground. You are slightly injured, but safe."}),Object(u.jsx)("p",{children:"You receive 3 points of damage."})]});case"10.2death":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You prepare to jump, balancing carefully before running towards the edge."}),Object(u.jsx)("p",{children:"You leap... and fall short."}),Object(u.jsx)("p",{children:"You plummet into the darkness below."}),Object(u.jsx)("p",{children:"One day, you will hit the bottom."})]});case 10.3:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("p",{children:["The distance to the other side of this chasm is not so long as to be insurmountable. In fact, for somebody as dextrous as you, it would be ",Object(u.jsx)("strong",{children:"quite"})," surmountable."]}),Object(u.jsx)("p",{children:"You prepare to jump, balancing carefully before running towards the edge."}),Object(u.jsx)("p",{children:"With a leap that would be the envy of athletic long jumpers everywhere, you clear the chasm safely."}),Object(u.jsx)("p",{children:"It's a pity nobody was around to see that."})]});case"10levitate":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You chant the words of the Levitate spell from your spellbook, complete with the complicated and silly looking hand movements that are required to cast all spells, as well as the occasional small hop that is required by the Levitate spell specifically."}),Object(u.jsx)("p",{children:"Your hopping is not in vain, as the spell takes effect and your final hop lifts you into the air, floating as if weightless."}),Object(u.jsx)("p",{children:"You float easily across the chasm before the spell wears off, landing safely on the other side."})]});case 10.4:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You have made it safely across the chasm. Ahead of you is the door leading forwards."}),this.props.inventoryContents.find((function(e){return 10===e.id}))||10===this.props.equippedItems.torso.id?Object(u.jsx)("p",{children:"Now that you're closer, you notice a small table in the corner, with a Healing Potion upon it."}):Object(u.jsx)("p",{children:"Now that you're closer, you notice an armour stand leaning haphazardly in the corner of the room, complete with a rather fine looking set of Chain Mail."})]});case 11:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You are in a completely dark room."}),Object(u.jsx)("p",{children:"There is no light whatsoever."}),Object(u.jsx)("p",{children:"What will you do?"})]});case"11.1damage":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You attempt to make your way through the pitch black room."}),Object(u.jsx)("p",{children:"You cannot tell how far into the room you make it before you feel the sharp point of a spike against your skin, stopping you in your tracks."}),Object(u.jsx)("p",{children:"You receive 2 points of damage."}),Object(u.jsx)("p",{children:"There is nothing to do but try again."})]});case"11.1success":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You attempt to make your way through the pitch black room."}),Object(u.jsx)("p",{children:"Moving carefully and stopping abruptly at the slightest indication of something against your skin, you are able to move through the room unharmed, avoiding the dangers present."}),Object(u.jsx)("p",{children:"Miraculously, you eventually reach out and feel the door leading out of the room. You feel as if you've learned something from your careful navigation of this room."})]});case 11.2:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("p",{children:["You pull out your torch",!1===this.props.actionCases.case5[3]?Object(u.jsx)("span",{children:" which, thanks to the enchantment upon it, still burns bright"}):null,". The flame illuminates the room around you."]}),Object(u.jsx)("p",{children:"Surrounding you are jagged spikes that seem to be made from a dull coloured metal, forming some sort of twisted maze through them. Trying to navigate this room without light would be an extremely dangerous experience."}),Object(u.jsx)("p",{children:"Thanks to your torch, it is instead only a fairly dangerous experience. These spikes look sharp enough to poke you into a kebab if you take a step wrong, but at least you can see where they are and carefully make your way through them."}),Object(u.jsx)("p",{children:"You make it to exit on the other side of the room unharmed. As a bonus, you feel as if you've learned something from your careful navigation of this room."})]});case"11light":return Object(u.jsxs)("div",{className:"content contentExtra",children:[Object(u.jsx)("p",{children:"You chant the words of the Light spell from your spellbook, though this particular spell has thankfully few of the complicated and silly looking hand movements that are required to cast all spells."}),Object(u.jsx)("p",{children:"As you complete the spell a ball of light bursts from your palm, illuminating the room around you."}),Object(u.jsx)("p",{children:"Surrounding you are jagged spikes that seem to be made from a dull coloured metal, forming some sort of twisted maze through them. Trying to navigate this room without light would be an extremely dangerous experience."}),Object(u.jsx)("p",{children:"Thanks to your Light spell, it is instead only a fairly dangerous experience. These spikes look sharp enough to poke you into a kebab if you take a step wrong, but at least you can see where they are and carefully make your way through them."}),Object(u.jsx)("p",{children:"You make it to exit on the other side of the room unharmed. As a bonus, you feel as if you've learned something from your careful navigation of this room."})]});case"11fire":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("p",{children:["You cast your ",this.props.previousSpell.name," into the room."]}),Object(u.jsx)("p",{children:"The light generated by the spell lasts for only a second, and gives you a glimpse of the jagged spikes surrounding you."}),Object(u.jsxs)("p",{children:["Unfortunately, your ",this.props.previousSpell.name," just doesn't generate enough light to navigate by."]})]});case 11.4:return Object(u.jsx)("div",{className:"content",children:Object(u.jsx)("p",{children:"Your Dexterity has increased by 2."})});case 12:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"You are in a room with a large creature with the head of a woman, body of a lion and wings of a bird. A Sphinx!"}),Object(u.jsx)("p",{children:"The Sphinx eyes you as bird of prey might eye a small rodent. She speaks, and her voice is a low rasp."}),Object(u.jsx)("p",{children:'"Answer my riddle correctly and you may pass me unscathed. Answer wrong, or fail to answer at all, and I shall attack you."'}),Object(u.jsx)("p",{children:"What will you do?"})]});case 12.1:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"The Sphinx looks at you intently for a few moments, then recites the following:"}),Object(u.jsx)("p",{children:'"I have hands, but no arms and a face, but no eyes.'}),Object(u.jsx)("p",{children:"Without fingers, I point and without feet, I run."}),Object(u.jsx)("p",{children:'What am I?"'})]});case 12.2:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"The Sphinx bares her teeth, but you realise with relief that she is smiling."}),Object(u.jsx)("p",{children:'"That is the correct answer. You may pass."'}),Object(u.jsx)("p",{children:"She raises herself from her relaxed position on the floor moves aside, clearing your path to the doorway on the opposite side of the room."}),Object(u.jsx)("p",{children:'"But first, I would reward your perspicacity."'}),Object(u.jsx)("p",{children:"You feel the Sphinx's magic wash over your body."})]});case 12.3:return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"The Sphinx glares at you."}),Object(u.jsx)("p",{children:'"You have failed to answer correctly."'}),Object(u.jsx)("p",{children:"She raises herself from her relaxed position on the floor and moves to attack!"})]});case"12loot":return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("p",{children:"The Sphinx staggers backwards and collapses against the wall of the chamber."}),Object(u.jsx)("p",{children:'"Enough. I yield. You have bested me."'}),Object(u.jsx)("p",{children:"She lowers herself slowly into a sitting position and looks at you respectfully."}),Object(u.jsx)("p",{children:'"I cannot defeat you. Take your prizes, and go."'}),!0===this.props.allocate.allocate&&Object(u.jsxs)("div",{className:"allocateNotification",children:[Object(u.jsx)("p",{children:"You have gained 8 points to improve your skills!"}),Object(u.jsx)("p",{className:"allocateNotificationSubtitle",children:"(You can allocate them in your Inventory.)"})]})]});case 12.4:return Object(u.jsxs)("div",{className:"content",children:[!1===this.props.actionCases.case12[0]?Object(u.jsx)("p",{children:"Your maximum hit points have increased by 5!"}):null,this.itemRewards()]})}}},{key:"render",value:function(){return this.contentSelect()}}]),a}(s.a.Component),O=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{id:"equipmentDiv",children:[Object(u.jsxs)("div",{className:"equipmentContainerDiv",children:[Object(u.jsx)("div",{className:"equipmentLabel",id:"labelHead",children:"Head: "}),Object(u.jsx)("div",{className:"equipment",id:"equippedHead",onClick:function(){return e.props.itemUnequipHandler(e.props.equippedItems.head)},children:this.props.equippedItems.head.name})]}),Object(u.jsxs)("div",{className:"equipmentContainerDiv",children:[Object(u.jsx)("div",{className:"equipmentLabel",id:"labelTorso",children:"Torso: "}),Object(u.jsx)("div",{className:"equipment",id:"equippedTorso",onClick:function(){return e.props.itemUnequipHandler(e.props.equippedItems.torso)},children:this.props.equippedItems.torso.name})]}),Object(u.jsxs)("div",{className:"equipmentContainerDiv",children:[Object(u.jsx)("div",{className:"equipmentLabel",id:"labelLegs",children:"Legs: "}),Object(u.jsx)("div",{className:"equipment",id:"equippedLegs",onClick:function(){return e.props.itemUnequipHandler(e.props.equippedItems.legs)},children:this.props.equippedItems.legs.name})]}),Object(u.jsxs)("div",{className:"equipmentContainerDiv",children:[Object(u.jsx)("div",{className:"equipmentLabel",id:"labelBoots",children:"Boots: "}),Object(u.jsx)("div",{className:"equipment",id:"equippedBoots",onClick:function(){return e.props.itemUnequipHandler(e.props.equippedItems.boots)},children:this.props.equippedItems.boots.name})]}),Object(u.jsxs)("div",{className:"equipmentContainerDiv",children:[Object(u.jsx)("div",{className:"equipmentLabel",id:"labelGloves",children:"Gloves: "}),Object(u.jsx)("div",{className:"equipment",id:"equippedGloves",onClick:function(){return e.props.itemUnequipHandler(e.props.equippedItems.gloves)},children:this.props.equippedItems.gloves.name})]}),Object(u.jsxs)("div",{className:"equipmentContainerDiv",children:[Object(u.jsx)("div",{className:"equipmentLabel",id:"labelWeapon",children:"Weapon: "}),Object(u.jsx)("div",{className:"equipment",id:"equippedWeapon",onClick:function(){return e.props.itemUnequipHandler(e.props.equippedItems.weapon)},children:this.props.equippedItems.weapon.name})]})]})}}]),a}(s.a.Component),x=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).componentDidMount=function(){var t=setTimeout((function(){e.props.healingUpdate(),clearTimeout(t)}),4e3)},e}return Object(c.a)(a,[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){return Object(u.jsxs)("span",{className:"hitPointUpdateDisplay green",children:["+",this.props.healing]})}}]),a}(s.a.Component),k=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).playerHitPointsColour=function(){return e.props.hitPoints>=e.props.maxHitPoints/3*2?Object(u.jsx)("span",{className:"green",children:e.props.hitPoints}):e.props.hitPoints>e.props.maxHitPoints/3?Object(u.jsx)("span",{className:"yellow",children:e.props.hitPoints}):Object(u.jsx)("span",{className:"red",children:e.props.hitPoints})},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"hitPointsDiv",children:[Object(u.jsxs)("p",{children:["Your HP: ",this.playerHitPointsColour()," / ",Object(u.jsx)("span",{className:"green",children:this.props.maxHitPoints})]}),this.props.healing>0?Object(u.jsx)(x,Object(i.a)({},this.props)):null]})}}]),a}(s.a.Component),S=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).armourDisplay=function(){return void 0!==e.props.armour?e.props.armour:0},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("p",{children:["Armour Rating: ",this.armourDisplay()]})}}]),a}(s.a.Component),I=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).closeInventory=function(){e.props.mainHandler(window.$inventoryValueSnapshot,window.$inventoryActionSnapshot)},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{id:"inventoryDiv",children:[Object(u.jsx)("div",{className:"hitPoints",children:Object(u.jsx)(k,Object(i.a)({},this.props))}),Object(u.jsx)("div",{className:"armour",children:Object(u.jsx)(S,Object(i.a)({},this.props))}),Object(u.jsx)(O,{equippedItems:this.props.equippedItems,itemUnequipHandler:this.props.itemUnequipHandler}),Object(u.jsx)(v,Object(i.a)(Object(i.a)({},this.props),{},{statsHandler:this.props.statsHandler,mainHandler:this.props.mainHandler,allocateHandler:this.props.allocateHandler})),!1===this.props.allocate.allocate&&Object(u.jsx)("div",{id:"closeInventoryButton",onClick:this.closeInventory,"aria-label":"Close",children:"\u274c"})]})}}]),a}(s.a.Component),C=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).inventory=function(){return e.props.mainHandler("inventory",e.props.inventoryContents.length)},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(u.jsx)("div",{id:"characterButton",value:"Character",onClick:this.inventory,children:"Inventory"})}}]),a}(s.a.Component),H=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).enemyHealthDescription=function(){return e.props.enemy.hitPoints===e.props.enemy.maxHitPoints?Object(u.jsxs)("p",{children:["The ",e.props.enemy.name," is ",Object(u.jsx)("span",{className:"green",children:"unharmed."})]}):e.props.enemy.hitPoints>=e.props.enemy.maxHitPoints/3*2?Object(u.jsxs)("p",{children:["The ",e.props.enemy.name," is ",Object(u.jsx)("span",{className:"green",children:"slightly injured."})]}):e.props.enemy.hitPoints>=e.props.enemy.maxHitPoints/2?Object(u.jsxs)("p",{children:["The ",e.props.enemy.name," is ",Object(u.jsx)("span",{className:"yellow",children:"somewhat injured."})]}):e.props.enemy.hitPoints>=e.props.enemy.maxHitPoints/3?Object(u.jsxs)("p",{children:["The ",e.props.enemy.name," is ",Object(u.jsx)("span",{className:"yellow",children:"quite injured."})]}):e.props.enemy.hitPoints>1?Object(u.jsxs)("p",{children:["The ",e.props.enemy.name," is ",Object(u.jsx)("span",{className:"red",children:"badly injured."})]}):1===e.props.enemy.hitPoints?Object(u.jsxs)("p",{children:["The ",e.props.enemy.name," ",Object(u.jsx)("span",{className:"red",children:"looks as if a gentle breeze would topple them."})]}):e.props.enemy.hitPoints<=0?Object(u.jsxs)("p",{children:["The ",e.props.enemy.name," is ",Object(u.jsx)("span",{className:"red",children:"defeated!"})]}):void 0},e.turnDescription=function(){if(e.props.enemy.hitPoints>0)return"player"===e.props.combatTurn?Object(u.jsx)("p",{className:"combatTurn",children:"It is your turn."}):Object(u.jsxs)("p",{className:"combatTurn",children:["It is the ",e.props.enemy.name,"'s turn."]})},e.actionDescription=function(){var t=e.props.enemyAction,a=e.props.equippedItems.weapon,n=[];if("player"===e.props.combatTurn)return n=t.map((function(e){return e.description})),0!==e.props.enemyDamage.length&&(n=n.map((function(t,a){return Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{children:t}),Object(u.jsxs)("p",{children:["You receive ",Object(u.jsx)("span",{className:"enemyDamageNumber",children:e.props.enemyDamage[a]<0?0:e.props.enemyDamage[a]})," damage."]})]},a)}))),n;if(e.props.playerDamage>0){if(3!==a.id)return Object(u.jsxs)("p",{children:["You hit the ",e.props.enemy.name," for ",Object(u.jsxs)("span",{className:"damageNumber",children:[e.props.playerDamage,Object(u.jsxs)("span",{className:"damageNumberInfo",children:["Rolled ",e.props.playerDamageBreakdown[0]," out of ",Number(a.damage.substring(0,a.damage.indexOf("d"))*a.damage.substring(a.damage.length,a.damage.indexOf("d")+1)),Object(u.jsx)("br",{}),"+ ",e.props.playerDamageBreakdown[1]," from your ",a.stat,a.bonus>0?Object(u.jsxs)("span",{children:[Object(u.jsx)("br",{}),"+ ",a.bonus," from your weapon"]}):null,"."]})]})," damage with your ",a.name,"."]});var s=function(){var t,a=e.props.equippedItems,n=[];for(var s in a)a[s].hasOwnProperty("magicBonus")&&(n.push(a[s].magicBonus),t=n.reduce((function(e,t){return e+t})));return t};return Object(u.jsxs)("p",{children:["You hit the ",e.props.enemy.name," for ",Object(u.jsxs)("span",{className:"damageNumber",children:[e.props.playerDamage,Object(u.jsxs)("span",{className:"damageNumberInfo",children:["Rolled ",e.props.playerDamageBreakdown[0]," out of ",Number(e.props.combatPreviousSpell.damage.substring(0,e.props.combatPreviousSpell.damage.indexOf("d"))*e.props.combatPreviousSpell.damage.substring(e.props.combatPreviousSpell.damage.length,e.props.combatPreviousSpell.damage.indexOf("d")+1)),Object(u.jsx)("br",{}),"+ ",e.props.playerDamageBreakdown[1]," from your intelligence",s()>0?Object(u.jsxs)("span",{children:[Object(u.jsx)("br",{}),"+ ",s()," from your equipment"]}):null,"."]})]})," damage with your ",e.props.combatPreviousSpell.name,"."]})}return e.props.playerHealing>0?Object(u.jsxs)("p",{children:["You restore  ",Object(u.jsx)("span",{className:"green",children:e.props.playerHealing})," Hit Points."]}):5===e.props.combatPreviousSpell.id?Object(u.jsxs)("p",{children:["You cast the Shield spell on yourself, increasing your Armour Rating by ",Object(u.jsx)("span",{className:"green",children:"3"}),"."]}):void 0},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("p",{className:"combatHeader",children:["You are fighting a ",this.props.enemy.name,"."]}),Object(u.jsx)("div",{className:"combatPlayerHitPoints",children:Object(u.jsx)(k,Object(i.a)({},this.props))}),Object(u.jsx)("div",{className:"combatPlayerArmour",children:Object(u.jsx)(S,Object(i.a)({},this.props))}),Object(u.jsx)("div",{className:"enemyHealthDescription",children:this.enemyHealthDescription()}),this.actionDescription(),this.props.enemy.hitPoints<=0&&Object(u.jsxs)("div",{className:"combatVictoryDescription",children:[Object(u.jsx)("p",{children:"Your enemy falls before you."}),Object(u.jsx)("p",{children:"You are victorious!"})]}),this.turnDescription()]})}}]),a}(s.a.Component),N=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).render=function(){return"inventory"===e.props.value?Object(u.jsx)("div",{className:"text",children:Object(u.jsx)(I,Object(i.a)(Object(i.a)({},e.props),{},{mainHandler:e.props.mainHandler,statsHandler:e.props.statsHandler,allocateHandler:e.props.allocateHandler,inventoryHandler:e.props.inventoryHandler,itemUnequipHandler:e.props.itemUnequipHandler}))}):"combat"===e.props.value?Object(u.jsx)("div",{className:"text",children:Object(u.jsx)(H,Object(i.a)(Object(i.a)({},e.props),{},{mainHandler:e.props.mainHandler,statsHandler:e.props.statsHandler,allocateHandler:e.props.allocateHandler}))}):e.props.value<=3?Object(u.jsx)("div",{className:"text",children:Object(u.jsx)(w,Object(i.a)(Object(i.a)({},e.props),{},{mainHandler:e.props.mainHandler,statsHandler:e.props.statsHandler,allocateHandler:e.props.allocateHandler}))}):Object(u.jsxs)("div",{className:"text",children:["emptySpell"!==e.props.value&&"8fire"!==e.props.value&&"spellScroll"!==e.props.value&&"spellScrollNoSpellbook"!==e.props.value&&"allSpells"!==e.props.value?Object(u.jsx)(C,Object(i.a)(Object(i.a)({},e.props),{},{mainHandler:e.props.mainHandler,inventoryContents:e.props.inventoryContents})):null,Object(u.jsx)(w,Object(i.a)(Object(i.a)({},e.props),{},{mainHandler:e.props.mainHandler,statsHandler:e.props.statsHandler,allocateHandler:e.props.allocateHandler}))]})},e}return Object(c.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(e){return e}},{key:"componentDidUpdate",value:function(e){var t=e.value,a=e.actionNum;"inventory"!==t&&"spellScroll"!==t&&"spellScrollNoSpellbook"!==t&&"allSpells"!==t&&(window.$inventoryValueSnapshot=t,window.$inventoryActionSnapshot=a)}}]),a}(s.a.Component),q=[{id:1,name:"Sword",stat:"strength",damage:"1d8",bonus:0,magic:!1,equipable:!0,equipSlot:"weapon",treasure:2,level:0,description:"A short iron sword that excels at sharply poking things."},{id:2,name:"Shortbow",stat:"dexterity",damage:"1d8",bonus:0,magic:!1,equipable:!0,equipSlot:"weapon",treasure:2,level:0,description:"A shortbow that would actually be rather large if you were a dwarf."},{id:3,name:"Spellbook",stat:"intelligence",magic:!0,equipable:!0,equipSlot:"weapon",treasure:2,level:0,description:"A book of magical spells. Neatly colour coded and organized."},{id:4,name:"Torch",magic:!0,equipable:!1,description:"A flaming length of wood that provides light and fire."},{id:5,name:"Leather Helmet",armour:1,magic:!1,equipable:!0,equipSlot:"head",description:"A sturdy, though slightly dirty, leather helmet for protecting the wearer's squishy brain."},{id:6,name:"Healing Potion",stat:"vitality",healing:"1d6",bonus:0,magic:!0,useable:!0,treasure:1,description:"A small glass bottle containing a lightly bubbling red liquid. The higher your vitality, the more hit points are restored when drinking this potion."},{id:7,name:"Collection of Books",magic:!1,useable:!1,description:"A few particularly interesting looking books, taken from one of Malthazor's libraries."},{id:8,name:"Rusty Key",magic:!1,useable:!1,treasure:2,description:"An old key."},{id:9,name:"Spell Scroll",magic:!0,useable:!0,treasure:1,description:"A magical scroll containing instructions for a spell."},{id:10,name:"Chain Mail",armour:3,magic:!1,equipable:!0,equipSlot:"torso",treasure:3,description:"A shirt of metal rings melded together to protect the wearer. Functional, but noisy."},{id:11,name:"Mighty Axe of Chopping",stat:"strength",damage:"1d8",bonus:1,magic:!0,equipable:!0,equipSlot:"weapon",treasure:2,level:5,description:Object(u.jsxs)("span",{children:["A magical hand axe that is probably intended for chopping up firewood, but should work just as well on Malthazor's guardians.",Object(u.jsx)("br",{}),"(+1 Damage Bonus)"]})},{id:12,name:"Piercing Crossbow",stat:"dexterity",damage:"1d10",bonus:1,magic:!0,equipable:!0,equipSlot:"weapon",treasure:2,level:5,description:Object(u.jsxs)("span",{children:["A magical crossbow that is ideal for overcoming tough enemy armour (or anything else that gets in the way).",Object(u.jsx)("br",{}),"(+1 Damage Bonus)"]})},{id:13,name:"Sword of Vengeance",stat:"strength",damage:"3d10",bonus:5,magic:!0,equipable:!0,equipSlot:"weapon",level:15,description:Object(u.jsxs)("span",{children:["A sword magically enchanted with a spirit of vengeance.",Object(u.jsx)("br",{}),"(+5 Damage Bonus)"]})},{id:14,name:"Bow of Vengeance",stat:"dexterity",damage:"3d10",bonus:5,magic:!0,equipable:!0,equipSlot:"weapon",level:15,description:Object(u.jsxs)("span",{children:["A bow magically enchanted with a spirit of vengeance.",Object(u.jsx)("br",{}),"(+5 Damage Bonus)"]})},{id:15,name:"Spear",stat:"strength",damage:"1d10",armour:1,bonus:0,magic:!1,equipable:!0,equipSlot:"weapon",treasure:2,level:6,description:"A long pole of wood with a pointy bit on the end. Provides an armour bonus due to enemies being kept at a distance from you thanks to the aforementioned pointy bit."},{id:16,name:"Enchanted Spear",stat:"strength",damage:"1d10",armour:1,bonus:1,magic:!1,equipable:!0,equipSlot:"weapon",treasure:3,level:8,description:Object(u.jsxs)("span",{children:["A long pole of wood with a pointy bit on the end. Provides an armour bonus due to enemies being kept at a distance from you thanks to the aforementioned pointy bit. ",Object(u.jsx)("br",{}),"(+1 Damage Bonus)"]})},{id:17,name:"Battleaxe",stat:"strength",damage:"1d12",bonus:0,magic:!1,equipable:!0,equipSlot:"weapon",treasure:2,level:2,description:"A hefty two-handed axe that would probably be overkill to use to eat breakfast."},{id:18,name:"Warhammer",stat:"strength",damage:"1d10",bonus:0,magic:!1,equipable:!0,equipSlot:"weapon",treasure:2,level:2,description:"A large hammer for hitting very large nails (or peoples' faces)."},{id:19,name:"Crushing Warhammer",stat:"strength",damage:"1d10",bonus:1,magic:!1,equipable:!0,equipSlot:"weapon",treasure:3,level:8,description:Object(u.jsxs)("span",{children:["A warhammer designed for crushing rocks and the sternums of goblins.",Object(u.jsx)("br",{}),"(+1 Damage Bonus)"]})},{id:20,name:"Sundering Battleaxe",stat:"strength",damage:"1d12",bonus:1,magic:!1,equipable:!0,equipSlot:"weapon",treasure:3,level:9,description:Object(u.jsxs)("span",{children:["A battleaxe that surpasses all others at chopping firewood. So... You know, if the dungeon delving doesn't work out, you have options.",Object(u.jsx)("br",{}),"(+1 Damage Bonus)"]})},{id:21,name:"Wizard Robes",stat:"intelligence",armour:2,magicBonus:1,magic:!0,equipable:!0,equipSlot:"torso",treasure:3,level:5,description:Object(u.jsxs)("span",{children:["A set of handsome Wizard Robes that provide a little magical protection and increase the potency of your spells.",Object(u.jsx)("br",{}),"(+1 Spell Bonus)"]})},{id:22,name:"Magician Robes",stat:"intelligence",armour:4,magicBonus:2,magic:!0,equipable:!0,equipSlot:"torso",treasure:4,level:10,description:Object(u.jsxs)("span",{children:["A set of magical Robes designed to protect the wearer from magical mishaps caused, inevitably, by their own hubris.",Object(u.jsx)("br",{}),"(+2 Spell Bonus)"]})},{id:23,name:"Archmage Robes",stat:"intelligence",armour:6,magicBonus:3,magic:!0,equipable:!0,equipSlot:"torso",treasure:5,level:15,description:Object(u.jsxs)("span",{children:["A splendid set of magical Robes fit for wearing by only the most experienced mages. Or random nobodies who have been running around a dungeon for a few hours.",Object(u.jsx)("br",{}),"(+3 Spell Bonus)"]})},{id:24,name:"Bow of Wounding",stat:"dexterity",damage:"2d8",bonus:2,magic:!0,equipable:!0,equipSlot:"weapon",treasure:3,level:12,description:Object(u.jsxs)("span",{children:["A bow enchanted to be especially good at skewering targets. It was originally designed for pig hunting, but since pigs are often domesticated, it was repurposed into a weapon of war instead.",Object(u.jsx)("br",{}),"(+2 Damage Bonus)"]})},{id:25,name:"Plate Armour",stat:"strength",armour:10,magic:!1,equipable:!0,equipSlot:"torso",treasure:5,level:15,description:Object(u.jsx)("span",{children:"A set of heavy plate armour, sure to protect you from any amount of knives and forks."})},{id:26,name:"Leather Armour",stat:"dexterity",armour:8,magic:!1,equipable:!0,equipSlot:"torso",treasure:5,level:15,description:Object(u.jsx)("span",{children:"A leather jerkin that provides good protection. The skill required isn't so much for putting it on as it is for moving without making an absolute racket."})},{id:999,name:"Message from Spikey",magic:!0,equipable:!0,equipSlot:"gloves",description:"In flowing handwriting it reads: 'This is for testing and debugging purposes only. Blasted Kalphites have got all over the gears and sprockets and whatnots!'"}];var P=function(e){var t=e.chambers[0],a=0;switch(e.chamberHandler(t),t){default:console.log("No actionNum found for current value.");break;case 8:a="curiosity"!==window.$motive?3:4;break;case 9:a="wealth"===window.$motive?1:3;break;case 10:a=3;break;case 11:case 12:case 13:case 14:a=2}return[t,a]};var D=function(e,t){return e=Math.ceil(1),t=Math.floor(20),Math.floor(Math.random()*(t-e+1))+e},B=[{id:1,name:"Firebolt",canBeUsedInCombat:!0,damage:"1d8",treasure:1,level:0,description:"A small mote of conjured fire, usually thrown at a target. Enough to light a candle or small fire, probably not enough to set a liar's pants on fire."},{id:2,name:"Unlock",canBeUsedInCombat:!1,treasure:1,level:0,description:Object(u.jsxs)("span",{children:["A spell that can be used to unlock any non-magical lock when touched. Now, be good with this one. It's not ",Object(u.jsx)("strong",{children:"technically"})," legal, but... You're magic. What are they going to do, arrest you?"]})},{id:3,name:"Light",canBeUsedInCombat:!1,treasure:1,level:0,description:"Summons a ball of magical light to illuminate your surroundings. Magical lampshade sold separately."},{id:4,name:"Heal",canBeUsedInCombat:!0,healing:"2d4",treasure:1,cooldown:4,level:0,description:"Restores some hit points to you. Requires 3 chambers or turns in combat to cooldown between uses. Speak to your healer if side effects persist for more than 3 turns."},{id:5,name:"Shield",canBeUsedInCombat:!0,treasure:1,duration:4,level:0,description:"Conjures a shield of magical energy to protect you. Increases your armour rating by 3 for 3 turns in combat. Lighter than an actual shield."},{id:6,name:"Levitate",canBeUsedInCombat:!1,treasure:1,level:0,description:"Magically lifts you from the ground (or other surface) for a short while, allowing you to float in the air. Understanding of gravity not required."},{id:7,name:"Lightning Bolt",canBeUsedInCombat:!0,damage:"2d10",treasure:3,cooldown:4,level:14,description:"A blast of lightning that will electrify anything it hits. Do NOT use it in the bath. Seriously. There have been legal proceedings about this."},{id:8,name:"Fireball",canBeUsedInCombat:!0,damage:"3d6",treasure:2,cooldown:3,level:12,description:"A small mote of conjured fire that will turn into a large explosion of fire on contact with a target. Not suitable for children under 3 years old."},{id:9,name:"Rejuvenate",canBeUsedInCombat:!0,healing:"4d4",treasure:3,cooldown:6,level:15,description:"Restores quite a lot of hit points to you. Requires 5 chambers or turns in combat to cooldown between uses. Not an effective counter to the aging process."},{id:10,name:"Blade Storm",canBeUsedInCombat:!0,damage:"5d4",treasure:3,cooldown:5,level:16,description:"Conjures a cloud of magical knives to attack your target. Can also be used to save time in the kitchen (minimum safe distance advised)."},{id:11,name:"Inferno",canBeUsedInCombat:!0,damage:"10d4",cooldown:5,level:20,description:"An immensely powerful spell given to you by a very clever and impressive old man (who also wrote this description)."}];var U,T,A,Y=function(e,t){return e=Math.ceil(1),t=Math.floor(10),Math.floor(Math.random()*(t-e+1))+e},M=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).keyCheck=function(t){32===t.keyCode&&e.actionClick(t)},e.actionClick=function(t){var a=Number(t.target.dataset.value);switch(e.props.value){case"emptySpell":U=window.$inventoryValueSnapshot,T=window.$inventoryActionSnapshot;break;case"spellScrollNoSpellbook":case"spellScroll":U="inventory",T=e.props.inventoryContents.length;break;case"allSpells":e.props.statsHandler(0,0,1,0),U=window.$spellPickerValueSnapshot,T=window.$spellPickerActionSnapshot;break;case 0:switch(a){default:break;case 0:U=1,T=1,window.$motive="wealth";break;case 1:U=1,T=1,window.$motive="revenge";break;case 2:U=1,T=1,window.$motive="curiosity"}break;case 1:U=2,T=0;break;case 3:switch(a){default:break;case 0:U=4,T=1,e.props.inventoryHandler(1),e.props.itemEquipHandler(q.find((function(e){return 1===e.id})));break;case 1:U=4,T=1,e.props.inventoryHandler(2),e.props.itemEquipHandler(q.find((function(e){return 2===e.id})));break;case 2:U=4,T=1,e.props.inventoryHandler(3),e.props.itemEquipHandler(q.find((function(e){return 3===e.id}))),e.props.spellbookUpdate(1)}break;case 4:U=5,T=4;break;case 5:switch(a){default:break;case 0:U=6,T=1;break;case 1:if(!0===e.props.actionCases.case5[1]){U=5.1,T=1,e.props.lock(5,1);break}break;case 2:if(!(e.props.stats.stat.strength>=3))break;if(!0===e.props.actionCases.case5[2]){U=5.2,T=1,e.props.inventoryHandler(4),e.props.lock(5,2);break}break;case 3:if(!(e.props.stats.stat.intelligence>=3))break;!0===e.props.actionCases.case5[3]&&(U=5.3,T=1,e.props.lock(5,3),q[3].description="A flaming length of wood that provides light and magical, ever-burning fire.")}break;case 5.1:case 5.2:case 5.3:switch(a){default:break;case 0:U=5,T=4}break;case 6:window.$combatValueSnapshot="6loot",U="combat",A=1;break;case"6loot":U=6.1,T=1,A="",e.props.inventoryHandler(5),e.props.itemEquipHandler(q.find((function(e){return 5===e.id}))),e.props.inventoryContents.find((function(e){return 4===e.id}))&&e.props.inventoryHandler(6);break;case 6.1:U=7,T=1;break;case 8:switch(a){default:break;case 0:e.props.lock(8,0);var n=D();U=n<=10?8.01:8.02,T=1;break;case 1:if(!0!==e.props.actionCases.case8[1])break;if(!(e.props.stats.stat.intelligence>=6))break;e.props.lock(8,1),U=8.1,T=1;break;case 2:if(!0===e.props.actionCases.case8[2]&&(3===e.props.equippedItems.weapon.id||e.props.inventoryContents.find((function(e){return 3===e.id})))){if(e.props.spellbook.length!==B.length){e.props.spellPickerHandler(),e.props.lock(8,2),U=8.2,T=1;break}window.$spellPickerValueSnapshot=e.props.value,window.$spellPickerActionSnapshot=e.props.actionNum,e.props.lock(8,2),U="allSpells",T=1}break;case 3:if(!0!==e.props.actionCases.case8[3])break;e.props.lock(8,3),e.props.inventoryHandler(7),U=8.3,T=1}break;case 8.02:e.props.hitPointsUpdate(-4),U=P(e.props)[0],T=P(e.props)[1],e.props.spellCooldownUpdate();break;case 8.2:case 8.3:U=8,T=window.$inventoryActionSnapshot;break;case"8fire":e.props.gameover();break;case 9:switch(a){default:break;case 0:if("wealth"===window.$motive)U=9.1,T=1;else{if(!(e.props.stats.stat.strength>=10))break;U=9.2,T=1}break;case 1:if(!e.props.inventoryContents.find((function(e){return 8===e.id})))break;U=9.3,T=1,e.props.inventoryRemove(8);break;case 2:U=P(e.props)[0],T=P(e.props)[1],e.props.spellCooldownUpdate()}break;case 9.1:case 9.2:case 9.3:case"9unlock":window.$combatValueSnapshot="9loot",U="combat",A=2;break;case"9loot":U=9.4,T=1,A="",e.props.itemPickerHandler(2,2);break;case 10:switch(a){default:break;case 0:U=10.1,T=1;break;case 1:var s=D();U=s>10?"10.2success":s>3?"10.2damage":"10.2death",T=1;break;case 2:if(e.props.stats.stat.dexterity>=6){U=10.3,T=1;break}}break;case 10.1:U=10,T=3;break;case"10.2success":U=10.4,T=2;break;case"10.2damage":e.props.hitPointsUpdate(-3),U=10.4,T=2;break;case"10.2death":e.props.gameover();break;case 10.3:case"10levitate":U=10.4,T=2;break;case 10.4:switch(a){default:break;case 0:e.props.inventoryContents.find((function(e){return 10===e.id}))||10===e.props.equippedItems.torso.id?e.props.inventoryHandler(6):e.props.inventoryHandler(10),U=P(e.props)[0],T=P(e.props)[1],e.props.spellCooldownUpdate();break;case 1:U=P(e.props)[0],T=P(e.props)[1],e.props.spellCooldownUpdate()}break;case 11:switch(a){default:break;case 0:if(Y()<4){U="11.1success",T=1;break}e.props.hitPointsUpdate(-2),U="11.1damage",T=1;break;case 1:if(e.props.inventoryContents.find((function(e){return 4===e.id}))){U=11.2,T=1;break}break;case"11light":U=11.3,T=1}break;case"11.1damage":U=11,T=2;break;case"11.1success":case 11.2:case"11light":e.props.statsHandler(0,2,0,0),U=11.4,T=1;break;case"11fire":U=11,T=2;break;case 12:switch(a){default:break;case 0:e.props.requireInput(!0),U=12.1,T=1;break;case 1:window.$combatValueSnapshot="12loot",U="combat",A=3}break;case 12.1:var o=document.getElementById("userInput").value.toLowerCase();if(["clock","a clock","watch","a watch","timepiece","a timepiece","time piece","a time piece"].includes(o)){e.props.requireInput(!1),U=12.2,T=1;break}e.props.requireInput(!1),U=12.3,T=1;break;case 12.2:e.props.hitPointsMaxHandler(5),e.props.itemPickerHandler(3,2),e.props.lock(12,0),U=12.4,T=1;break;case 12.3:window.$combatValueSnapshot="12loot",U="combat",A=3;break;case"12loot":e.props.itemPickerHandler(3,2),U=12.4,T=1;break;default:U=P(e.props)[0],T=P(e.props)[1],e.props.spellCooldownUpdate()}e.props.mainHandler(U,T),e.props.enemyNumberUpdate(A)},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(e){switch(this.props.value){default:return"Confound it! This is a broken bit. You shouldn't be able to read this.";case"emptySpell":case"spellScrollNoSpellbook":case"spellScroll":return"Continue.";case"allSpells":return"Continue, but more intelligently.";case 0:switch(e){default:return"Oh dear, things have gone very wrong here. You shouldn't be seeing this at all!";case 0:return"Wealth. You have heard that great treasure may be found within Malthazor's hoard. You intend to confirm or deny those rumours for good.";case 1:return"Revenge. Malthazor's cruelty took somebody that you cared about. You mean to avenge yourself upon him.";case 2:return"Curiosity. Malthazor may be mad, but his collection of arcane and esoteric knowledge is said to be second to none."}case 1:case 2:return"Continue.";case 3:switch(e){default:return"Oh dear, things have gone very wrong here. You shouldn't be seeing this at all!";case 0:return"You have brought your trusty sword to face whatever dangers you may find. Your abilities with the sword are based on your Strength.";case 1:return"You have come equipped with your hunting bow to fell dangers before they can reach you. Your abilities with the bow are based on your Dexterity.";case 2:return"You carry a book of spells to keep you safe from danger, though only a few pages are currently filled in. Your abilities with spells are based on your Intelligence."}case 4:return"Continue.";case 5:switch(e){default:return"Oh dear, things have gone very wrong here. You shouldn't be seeing this at all!";case 0:return"Cross the room and enter the passageway.";case 1:return!0===this.props.actionCases.case5[1]?"Return through the door behind you. Coming here was a mistake.":Object(u.jsx)("span",{className:"locked",children:"Return through the door behind you. Coming here was a mistake."});case 2:return this.props.stats.stat.strength>=3&&!0===this.props.actionCases.case5[2]?"Take a torch from one of the wall sconces. (Requires 3 Strength)":Object(u.jsx)("span",{className:"locked",children:"Take a torch from one of the wall sconces. (Requires 3 Strength)"});case 3:return this.props.stats.stat.intelligence>=3&&!0===this.props.actionCases.case5[3]?"Examine the torches around the room. (Requires 3 Intelligence)":Object(u.jsx)("span",{className:"locked",children:"Examine the torches around the room. (Requires 3 Intelligence)"})}case 5.1:case 5.2:case 5.3:return"Continue.";case 6:return"Defend yourself!";case"6loot":return this.props.inventoryContents.find((function(e){return 4===e.id}))?"Take the helmet and healing potion.":"Take the helmet.";case 6.1:return"Continue.";case 7:return"Continue into the dungeon.";case 8:switch(e){default:return"Oh dear, things have gone very wrong here. You shouldn't be seeing this at all!";case 0:return"Attempt to find an exit from this room. (50% chance of painless success)";case 1:return!0===this.props.actionCases.case8[1]&&this.props.stats.stat.intelligence>=6?"Attempt to find an exit from this room. (Requires 6 Intelligence)":Object(u.jsx)("span",{className:"locked",children:"Attempt to find an exit from this room. (Requires 6 Intelligence)"});case 2:return!0===this.props.actionCases.case8[2]&&(3===this.props.equippedItems.weapon.id||this.props.inventoryContents.find((function(e){return 3===e.id})))?"Search the books for any spells that might be useful to you. (Requires a Spellbook)":Object(u.jsx)("span",{className:"locked",children:"Search the books for any spells that might be useful to you. (Requires a Spellbook)"});case 3:if("curiosity"===window.$motive)return!0===this.props.actionCases.case8[3]?"Take the most interesting looking books for yourself.":Object(u.jsx)("span",{className:"locked",children:"Take the most interesting looking books for yourself."})}break;case 8.01:case 8.02:case 8.1:case 8.2:case 8.3:return"Continue.";case"8fire":return"Oh dear.";case 9:switch(e){default:return"Oh dear, things have gone very wrong here. You shouldn't be seeing this at all!";case 0:return"wealth"===window.$motive?"Attempt to open the chest. If there is treasure inside, it will be yours.":this.props.stats.stat.strength>=10?"Attempt to open the chest with force. (Requires 10 Strength)":Object(u.jsx)("span",{className:"locked",children:"Attempt to open the chest with force. (Requires 10 Strength)"});case 1:return this.props.inventoryContents.find((function(e){return 8===e.id}))?"Attempt to open the chest using the Rusty Key. (Requires Rusty Key)":Object(u.jsx)("span",{className:"locked",children:"Attempt to open the chest using the Rusty Key. (Requires Rusty Key)"});case 2:return"Ignore the chest and continue through the dungeon."}case 9.1:case 9.2:case 9.3:case"9unlock":return"Defend yourself!";case"9loot":case 9.4:return"Continue";case 10:switch(e){default:return"Oh dear, things have gone very wrong here. You shouldn't be seeing this at all!";case 0:return"Carefully look over the edge of the chasm.";case 1:return"Attempt to leap across the gap. (This could end badly for you)";case 2:return this.props.stats.stat.dexterity>=6?"Confidently leap across the gap. (Requires 6 Dexterity)":Object(u.jsx)("span",{className:"locked",children:"Confidently leap across the gap. (Requires 6 Dexterity)"})}case 10.1:case"10.2success":case"10.2damage":return"Continue";case"10.2death":return"Oh dear...";case 10.3:case"10levitate":return"Continue";case 10.4:switch(e){default:return"Oh dear, things have gone very wrong here. You shouldn't be seeing this at all!";case 0:return this.props.inventoryContents.find((function(e){return 10===e.id}))||10===this.props.equippedItems.torso.id?"Take the potion and continue.":"Take the Chain Mail and continue.";case 1:return this.props.inventoryContents.find((function(e){return 10===e.id}))||10===this.props.equippedItems.torso.id?"Continue without taking the potion.":"Continue without taking the Chain Mail."}case 11:switch(e){default:return"Oh dear, things have gone very wrong here. You shouldn't be seeing this at all!";case 0:return"Attempt to blindly find a way out of this room.";case 1:return this.props.inventoryContents.find((function(e){return 4===e.id}))?"Use your torch to light the way. (Requires Torch)":Object(u.jsx)("span",{className:"locked",children:"Use your torch to light the way. (Requires Torch)"})}case"11.1damage":return"Try again.";case"11.1success":case 11.2:case"11light":case"11fire":case 11.4:return"Continue";case 12:switch(e){default:return"Oh dear, things have gone very wrong here. You shouldn't be seeing this at all!";case 0:return"Ask to hear the Sphinx's riddle.";case 1:return"Attack the Sphinx. If there's going to be a fight, you may as well be the one starting it!"}case 12.1:return"Submit Answer";case 12.2:return"Receive your reward.";case 12.3:return"Defend yourself!";case"12loot":case 12.4:return"Continue"}}},{key:"actionSelect",value:function(){var e=[];!0===this.props.inputRequired&&(e.push(Object(u.jsx)("div",{className:"itemsTitle",children:"Enter your answer:"})),e.push(Object(u.jsx)("input",{className:"input",id:"userInput","data-value":"input"},"input")));for(var t=0;t<this.props.actionNum;t++)e.push(Object(u.jsx)("div",{className:"action","data-value":t,onClick:this.actionClick,onKeyDown:this.keyCheck,tabIndex:"0",children:this.componentDidMount(t)},t));return e}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"actions",children:this.actionSelect()})}}]),a}(s.a.Component);var R=function(e,t){return e=Math.ceil(1),t=Math.floor(4),Math.floor(Math.random()*(t-e+1))+e};var E=function(e,t){return e=Math.ceil(1),t=Math.floor(6),Math.floor(Math.random()*(t-e+1))+e};var W=function(e,t){return e=Math.ceil(1),t=Math.floor(8),Math.floor(Math.random()*(t-e+1))+e};var L=function(e,t){return e=Math.ceil(1),t=Math.floor(12),Math.floor(Math.random()*(t-e+1))+e};var K,$,V,z,F=function(e){var t=function(){return e.dismiss()},a=function(){return e.focus()};function n(){switch(e.showItemInfo.stat){case"strength":return Math.floor(e.stats.stat.strength/4)+e.showItemInfo.bonus;case"dexterity":return Math.floor(e.stats.stat.dexterity/4)+e.showItemInfo.bonus;case"intelligence":return Math.floor(e.stats.stat.intelligence/4)+e.showItemInfo.bonus;case"vitality":return Math.floor(e.stats.stat.vitality/2)+e.showItemInfo.bonus}}var o=function(a){var n=e.inventoryContents.slice(),s=a.target.parentElement.firstChild.innerText,o=n.find((function(e){return e.name===s}));e.itemEquipHandler(o),t()};return s.a.useEffect((function(){document.getElementsByClassName("itemInfo")[0].focus()})),Object(u.jsxs)("span",{className:"itemInfo",tabIndex:"0",onBlur:function(){t()},children:[Object(u.jsx)("h3",{children:e.showItemInfo.name}),Object(u.jsx)("p",{children:e.showItemInfo.description}),e.showItemInfo.damage&&Object(u.jsxs)("p",{className:"bold",children:["Damage: ",e.showItemInfo.damage.substring(0,e.showItemInfo.damage.indexOf("d")),"-",Number(e.showItemInfo.damage.substring(0,e.showItemInfo.damage.indexOf("d"))*e.showItemInfo.damage.substring(e.showItemInfo.damage.length,e.showItemInfo.damage.indexOf("d")+1))," + ",n()]}),e.showItemInfo.armour&&Object(u.jsxs)("p",{className:"bold",children:["Armour: ",e.showItemInfo.armour]}),e.showItemInfo.healing&&Object(u.jsxs)("p",{className:"bold",children:["Heals ",e.showItemInfo.healing.substring(0,e.showItemInfo.healing.indexOf("d")),"-",Number(e.showItemInfo.healing.substring(0,e.showItemInfo.healing.indexOf("d"))*e.showItemInfo.healing.substring(e.showItemInfo.healing.length,e.showItemInfo.healing.indexOf("d")+1))," + ",n()]}),!0===e.showItemInfo.equipable&&e.showItemInfo.id!==e.equippedItems.weapon.id?e.showItemInfo.hasOwnProperty("level")?e.stats.stat[e.showItemInfo.stat]>=e.showItemInfo.level?Object(u.jsx)("input",{type:"button",className:"itemEquipButton",value:"Equip",onFocus:function(){a()},onClick:function(e){o(e)}}):Object(u.jsxs)("p",{className:"bold",children:["Requires ",e.showItemInfo.level," ",e.showItemInfo.stat," to equip."]}):Object(u.jsx)("input",{type:"button",className:"itemEquipButton",value:"Equip",onFocus:function(){a()},onClick:function(e){o(e)}}):null,!0===e.showItemInfo.useable&&Object(u.jsx)("input",{type:"button",className:"itemUseButton",value:"Use",onFocus:function(){a()},onClick:function(a){!function(a){var n=e.inventoryContents.slice(),s=a.target.parentElement.firstChild.innerText,o=n.find((function(e){return e.name===s}));if(o.hasOwnProperty("healing")){if(e.hitPoints<e.maxHitPoints){var r=function(t,a){var n=0;switch(t){default:break;case"d4":for(var s=0;s<a;s++)n+=R();return n+Math.floor(e.stats.stat.vitality/2);case"d6":for(var o=0;o<a;o++)n+=E();return n+Math.floor(e.stats.stat.vitality/2);case"d8":for(var r=0;r<a;r++)n+=W();return n+Math.floor(e.stats.stat.vitality/2);case"d10":for(var i=0;i<a;i++)n+=Y();return n+Math.floor(e.stats.stat.vitality/2);case"d12":for(var l=0;l<a;l++)n+=L();return n+Math.floor(e.stats.stat.vitality/2);case"d20":for(var c=0;c<a;c++)n+=D();return n+Math.floor(e.stats.stat.vitality/2)}}(o.healing.substring(o.healing.length,o.healing.indexOf("d")),o.healing.substring(0,o.healing.indexOf("d")));e.hitPointsUpdate(r),e.inventoryRemove(o.id)}}else 9===o.id&&(3===e.equippedItems.weapon.id||e.inventoryContents.find((function(e){return 3===e.id}))?(e.spellbook.length!==B.length?(e.spellPickerHandler(),e.mainHandler("spellScroll",1)):(window.$spellPickerValueSnapshot=e.value,e.mainHandler("allSpells",1)),e.inventoryRemove(o.id)):e.mainHandler("spellScrollNoSpellbook",1));"combat"===e.value&&(e.combatItemHandler(!1),e.combatLock(!0)),t()}(a)}})]})},J=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).keyCheck=function(e){if(32===e.keyCode)switch(e.target.id){default:break;case"combatChangeWeaponSelect":case"combatChangeWeaponCurrent":n.itemClick(e);break;case"combatKeepWeapon":n.keepWeapon();break;case"combatUseItemSelect":n.itemClick(e);break;case"combatUseItem":n.cancelItems()}},n.keepWeapon=function(){n.props.weaponSwapHandler(!1)},n.cancelItems=function(){n.props.combatItemHandler(!1)},n.itemClick=function(e){if("combat"!==n.props.value){if(!1===n.state.showItemInfo){var t=n.props.inventoryContents[e.target.dataset.value];$=e.target.getBoundingClientRect(),n.setState({showItemInfo:t})}}else if(!1===n.state.showItemInfo)if(n.props.weaponSwap)if("combatChangeWeaponCurrent"===e.target.id){var a=n.props.equippedItems.weapon;$=e.target.getBoundingClientRect(),n.setState({showItemInfo:a})}else{var s=V[e.target.dataset.value];$=e.target.getBoundingClientRect(),n.setState({showItemInfo:s})}else if(n.props.combatItem){var o=z[e.target.dataset.value];$=e.target.getBoundingClientRect(),n.setState({showItemInfo:o})}},n.handleTooltipDismiss=function(){n.timeOutId=setTimeout((function(){n.setState({showItemInfo:!1})}))},n.handleTooltipFocus=function(){clearTimeout(n.timeOutId)},n.state={showItemInfo:!1},n.timeOutId=null,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(e){var t=this;switch(function(){var e=t.props.inventoryContents.slice();K=e.map((function(e){return e.name}))}(),e){default:return"There should be an item here.";case e:return K[e]}}},{key:"componentDidUpdate",value:function(){if(this.state.showItemInfo){document.getElementsByClassName("itemInfo")[0].style.left=$.left+$.width+20+"px",document.getElementsByClassName("itemInfo")[0].style.top=$.top-document.getElementsByClassName("itemInfo")[0].getBoundingClientRect().height/3+"px"}}},{key:"componentWillUnmount",value:function(){this.setState({showItemInfo:!1}),clearTimeout(this.timeOutId)}},{key:"itemSelect",value:function(){var e=[];if("combat"!==this.props.value)for(var t=0;t<this.props.inventoryContents.length;t++)e.push(Object(u.jsx)("div",{className:"item","data-value":t,onClick:this.itemClick,onKeyDown:this.keyCheck,tabIndex:"0",children:this.componentDidMount(t)},t));else if(this.props.weaponSwap){var a=this.props.inventoryContents.slice();V=a.filter((function(e){return"weapon"===e.equipSlot})),e.push(Object(u.jsxs)("div",{className:"weapon",id:"combatChangeWeaponCurrent","data-value":this.props.equippedItems.weapon.id,onClick:this.itemClick,onKeyDown:this.keyCheck,tabIndex:"0",children:[this.props.equippedItems.weapon.name," (Equipped)"]},this.props.equippedItems.weapon.name));for(var n=0;n<V.length;n++)e.push(Object(u.jsx)("div",{className:"weapon",id:"combatChangeWeaponSelect","data-value":n,onClick:this.itemClick,onKeyDown:this.keyCheck,tabIndex:"0",children:V[n].name},V[n].name));e.push(Object(u.jsx)("div",{className:"action",id:"combatKeepWeapon",onClick:this.keepWeapon,onKeyDown:this.keyCheck,tabIndex:"0",children:"Cancel"},"keepWeapon"))}else if(this.props.combatItem){var s=this.props.inventoryContents.slice();z=s.filter((function(e){return!0===e.useable&&9!==e.id}));for(var o=0;o<z.length;o++)e.push(Object(u.jsx)("div",{className:"item",id:"combatUseItemSelect","data-value":o,onClick:this.itemClick,onKeyDown:this.keyCheck,tabIndex:"0",children:z[o].name},z[o].name+o));e.push(Object(u.jsx)("div",{className:"action",id:"combatCancelItems",onClick:this.cancelItems,onKeyDown:this.keyCheck,tabIndex:"0",children:"Cancel"},"cancelItems"))}return e}},{key:"render",value:function(){return Object(u.jsxs)("div",{id:"itemContainer",children:["combat"!==this.props.value?Object(u.jsx)("p",{className:"itemsTitle",children:"Items"}):Object(u.jsx)("p",{className:"combatItemsTitle",children:"You may use one item or change one weapon per turn, in addition to attacking."}),Object(u.jsx)("div",{className:"itemContainerOverflow",children:this.itemSelect()}),this.state.showItemInfo?Object(u.jsx)(F,Object(i.a)(Object(i.a)(Object(i.a)({},this.props),this.state),{},{dismiss:this.handleTooltipDismiss,focus:this.handleTooltipFocus})):null]})}}]),a}(s.a.Component);var G,Q,X,Z=function(e){var t=function(){return e.focus()},a=e.showSpellInfo,n=Math.floor(e.stats.stat.intelligence/4),o=function(){var t,a=e.equippedItems,n=[],s=Math.floor(e.stats.stat.intelligence/4);for(var o in a)a[o].hasOwnProperty("magicBonus")&&(n.push(a[o].magicBonus),t=n.reduce((function(e,t){return e+t})));return void 0===t&&(t=0),s+t};return s.a.useEffect((function(){document.getElementsByClassName("spellInfo")[0].focus()})),Object(u.jsxs)("span",{className:"spellInfo",tabIndex:"0",onBlur:function(){e.dismiss()},children:[Object(u.jsx)("h3",{children:e.showSpellInfo.name}),Object(u.jsx)("p",{children:e.showSpellInfo.description}),e.showSpellInfo.damage?e.stats.stat.intelligence>=e.showSpellInfo.level?e.showSpellInfo.hasOwnProperty("cooldown")?0===e.spellCooldown[a.name.toLowerCase()]?Object(u.jsxs)("p",{className:"bold",children:["Damage: ",e.showSpellInfo.damage.substring(0,e.showSpellInfo.damage.indexOf("d")),"-",Number(e.showSpellInfo.damage.substring(0,e.showSpellInfo.damage.indexOf("d"))*e.showSpellInfo.damage.substring(e.showSpellInfo.damage.length,e.showSpellInfo.damage.indexOf("d")+1))," + ",o()]}):Object(u.jsxs)("p",{className:"bold",children:["Cooldown: ",e.spellCooldown[a.name.toLowerCase()]]}):Object(u.jsxs)("p",{className:"bold",children:["Damage: ",e.showSpellInfo.damage.substring(0,e.showSpellInfo.damage.indexOf("d")),"-",Number(e.showSpellInfo.damage.substring(0,e.showSpellInfo.damage.indexOf("d"))*e.showSpellInfo.damage.substring(e.showSpellInfo.damage.length,e.showSpellInfo.damage.indexOf("d")+1))," + ",o()]}):Object(u.jsxs)("p",{className:"bold",children:["Intelligence required: ",e.showSpellInfo.level]}):null,e.showSpellInfo.healing?e.stats.stat.intelligence>=e.showSpellInfo.level?0===e.spellCooldown[a.name.toLowerCase()]?Object(u.jsxs)("p",{className:"bold",children:["Heals: ",e.showSpellInfo.healing.substring(0,e.showSpellInfo.healing.indexOf("d")),"-",Number(e.showSpellInfo.healing.substring(0,e.showSpellInfo.healing.indexOf("d"))*e.showSpellInfo.healing.substring(e.showSpellInfo.healing.length,e.showSpellInfo.healing.indexOf("d")+1))," + ",o()]}):Object(u.jsxs)("p",{className:"bold",children:["Cooldown: ",e.spellCooldown[a.name.toLowerCase()]]}):Object(u.jsxs)("p",{className:"bold",children:["Intelligence required: ",e.showSpellInfo.level]}):null,e.stats.stat.intelligence>=e.showSpellInfo.level?e.spellCooldown[a.name.toLowerCase()]>0?Object(u.jsx)("input",{type:"button",className:"spellCastButton locked",value:"Cast",onFocus:function(){t()}}):Object(u.jsx)("input",{type:"button",className:"spellCastButton",value:"Cast",onFocus:function(){t()},onClick:function(){!function(){var t=window.$inventoryValueSnapshot;if("combat"!==e.value)switch(a.id){case 1:switch(t){default:e.mainHandler("emptySpell",1);break;case 8:e.mainHandler("8fire",1);break;case 11:e.mainHandler("11fire",1)}e.previousSpellUpdate(a);break;case 2:switch(t){default:e.mainHandler("emptySpell",1);break;case 9:e.mainHandler("9unlock",1)}e.previousSpellUpdate(a);break;case 3:switch(t){default:e.mainHandler("emptySpell",1);break;case 11:e.mainHandler("11light",1)}e.previousSpellUpdate(a);break;case 4:switch(t){default:if(e.hitPoints<e.maxHitPoints){if(0===e.spellCooldown.heal){for(var s=0,r=0;r<2;r++)s+=R();s+=o(),e.hitPointsUpdate(s),e.spellCooldownSet(4)}break}}e.previousSpellUpdate(a);break;case 5:e.mainHandler("emptySpell",1),e.previousSpellUpdate(a);break;case 6:switch(t){default:e.mainHandler("emptySpell",1);break;case 10:e.mainHandler("10levitate",1)}e.previousSpellUpdate(a);break;case 7:e.mainHandler("emptySpell",1),e.previousSpellUpdate(a);break;case 8:switch(t){default:e.mainHandler("emptySpell",1);break;case 8:e.mainHandler("8fire",1),e.spellCooldownSet(8);break;case 11:e.mainHandler("11fire",1),e.spellCooldownSet(8)}e.previousSpellUpdate(a);break;case 9:switch(t){default:if(e.hitPoints<e.maxHitPoints){if(0===e.spellCooldown.rejuvenate){for(var i=0,l=0;l<4;l++)i+=R();i+=o(),e.hitPointsUpdate(i),e.spellCooldownSet(9)}break}}e.previousSpellUpdate(a);break;case 10:e.mainHandler("emptySpell",1),e.previousSpellUpdate(a);break;default:console.log("No Spell ID found")}else if(e.showSpellInfo.damage)!function(){var t=function(e,t){var a=0;switch(e){default:break;case"d4":for(var n=0;n<t;n++)a+=R();return a+o();case"d6":for(var s=0;s<t;s++)a+=E();return a+o();case"d8":for(var r=0;r<t;r++)a+=W();return a+o();case"d10":for(var i=0;i<t;i++)a+=Y();return a+o();case"d12":for(var l=0;l<t;l++)a+=L();return a+o();case"d20":for(var c=0;c<t;c++)a+=D();return a+o()}}(a.damage.substring(a.damage.length,a.damage.indexOf("d")),a.damage.substring(0,a.damage.indexOf("d")));e.enemyHitPointsUpdate(t),a.hasOwnProperty("cooldown")&&e.spellCooldownSet(a.id),e.damageDisplay(t),e.damageBreakdown(t-o(),n,o()-n),e.turnOrder()}(),e.previousSpellHandler(a),e.combatSpellHandler(!1);else if(e.showSpellInfo.healing){if(0===e.spellCooldown[a.name.toLowerCase()]&&e.hitPoints<e.maxHitPoints){var c=function(e,t){var a=0;switch(e){default:break;case"d4":for(var n=0;n<t;n++)a+=R();return a+o();case"d6":for(var s=0;s<t;s++)a+=E();return a+o();case"d8":for(var r=0;r<t;r++)a+=W();return a+o();case"d10":for(var i=0;i<t;i++)a+=Y();return a+o();case"d12":for(var l=0;l<t;l++)a+=L();return a+o();case"d20":for(var c=0;c<t;c++)a+=D();return a+o()}}(a.healing.substring(a.healing.length,a.healing.indexOf("d")),a.healing.substring(0,a.healing.indexOf("d")));e.hitPointsUpdate(c),e.spellCooldownSet(a.id),e.healingDisplay(c),e.turnOrder(),e.previousSpellHandler(a),e.combatSpellHandler(!1)}}else 5===e.showSpellInfo.id&&(e.armourBonusUpdate(3),e.spellDurationSet(5),e.turnOrder(),e.previousSpellHandler(a),e.combatSpellHandler(!1))}()}}):Object(u.jsx)("input",{type:"button",className:"spellCastButton locked",value:"Cast",onFocus:function(){t()}})]})},_=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).spellSelect=function(){var e=[];if(0===n.props.spellbook.length)e.push(Object(u.jsx)("p",{children:"You have no spells in your Spellbook. Keep an eye out for magical scrolls in your journey!"},"noSpell"));else if("combat"!==n.props.value)for(var t=0;t<n.props.spellbook.length;t++)e.push(Object(u.jsx)("div",{className:"spell","data-value":t,onClick:n.spellClick,onKeyDown:n.keyCheck,tabIndex:"0",children:n.componentDidMount(t)},t));else{X=n.props.spellbook.filter((function(e){return!0===e.canBeUsedInCombat}));for(var a=0;a<X.length;a++)e.push(Object(u.jsx)("div",{className:"spell","data-value":a,onClick:n.spellClick,onKeyDown:n.keyCheck,tabIndex:"0",children:n.componentDidMount(a)},a));e.push(Object(u.jsx)("div",{className:"action",id:"combatCancelSpell",onClick:n.cancelSpell,onKeyDown:n.keyCheckCancel,tabIndex:"0",children:"Cancel"},"cancelSpell"))}return e},n.keyCheck=function(e){32===e.keyCode&&n.spellClick(e)},n.keyCheckCancel=function(e){32===e.keyCode&&n.cancelSpell()},n.spellClick=function(e){if(!1===n.state.showSpellInfo)if("combat"!==n.props.value){var t=n.props.spellbook[e.target.dataset.value];Q=e.target.getBoundingClientRect(),n.setState({showSpellInfo:t})}else{var a=X[e.target.dataset.value];Q=e.target.getBoundingClientRect(),n.setState({showSpellInfo:a})}},n.handleTooltipDismiss=function(){n.timeOutId=setTimeout((function(){n.setState({showSpellInfo:!1})}))},n.handleTooltipFocus=function(){clearTimeout(n.timeOutId)},n.cancelSpell=function(){n.props.combatSpellHandler(!1)},n.state={showSpellInfo:!1},n.timeOutId=null,n}return Object(c.a)(a,[{key:"componentDidMount",value:function(e){var t=this;switch(function(){if("combat"!==t.props.value){var e=t.props.spellbook.slice();G=e.map((function(e){return e.name}))}else{var a=X.slice();G=a.map((function(e){return e.name}))}}(),e){default:return"Alas, it appears that you have misplaced one of your spells.";case e:return G[e]}}},{key:"componentDidUpdate",value:function(){if(this.state.showSpellInfo){document.getElementsByClassName("spellInfo")[0].style.left=Q.left+Q.width+20+"px",document.getElementsByClassName("spellInfo")[0].style.top=Q.top-document.getElementsByClassName("spellInfo")[0].getBoundingClientRect().height/2.6+"px"}}},{key:"componentWillUnmount",value:function(){this.setState({showSpellInfo:!1}),clearTimeout(this.timeOutId)}},{key:"render",value:function(){var e=3===this.props.equippedItems.weapon.id;return Object(u.jsxs)("div",{id:"spellContainer",children:[Object(u.jsx)("p",{className:"spellTitle",children:"Spells"}),Object(u.jsx)("div",{className:"spellContainerOverflow",children:e?this.spellSelect():Object(u.jsx)("p",{id:"noSpellbookText",children:"Equip a Spellbook to cast spells."})}),this.state.showSpellInfo?Object(n.createElement)(Z,Object(i.a)(Object(i.a)(Object(i.a)({},this.props),this.state),{},{dismiss:this.handleTooltipDismiss,focus:this.handleTooltipFocus,key:this.state.showSpellInfo.name})):null]})}}]),a}(s.a.Component),ee=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).actionRender=function(){var t=[];return e.props.hitPoints>0?e.props.weaponSwap?t.push(Object(u.jsx)(J,Object(i.a)({},e.props),"weapons")):e.props.combatSpell?t.push(Object(u.jsx)(_,Object(i.a)({},e.props),"spells")):e.props.combatItem?t.push(Object(u.jsx)(J,Object(i.a)({},e.props),"items")):"player"===e.props.combatTurn?(""!==e.props.equippedItems.weapon&&(3!==e.props.equippedItems.weapon.id?t.push(Object(u.jsxs)("div",{className:"action",id:"combatAttack",onClick:e.attack,onKeyDown:e.keyCheck,tabIndex:"0",children:["Attack (",e.props.equippedItems.weapon.name,")"]},"attack")):t.push(Object(u.jsx)("div",{className:"action",id:"combatCast",onClick:e.cast,onKeyDown:e.keyCheck,tabIndex:"0",children:"Cast a Spell"},"cast"))),e.props.inventoryContents.some((function(e){return"weapon"===e.equipSlot}))&&(!1===e.props.weaponSwapLock?t.push(Object(u.jsx)("div",{className:"action",id:"combatChangeWeapon",onClick:e.changeWeapon,onKeyDown:e.keyCheck,tabIndex:"0",children:"Change Weapon"},"changeWeapon")):t.push(Object(u.jsx)("div",{className:"action locked",id:"combatChangeWeaponLocked",tabIndex:"0",children:"Change Weapon"},"changeWeapon"))),e.props.inventoryContents.some((function(e){return!0===e.useable&&9!==e.id}))&&(!1===e.props.itemUseLock?t.push(Object(u.jsx)("div",{className:"action",id:"combatUseItem",onClick:e.useItem,onKeyDown:e.keyCheck,tabIndex:"0",children:"Use Item"},"useItem")):t.push(Object(u.jsx)("div",{className:"action locked",id:"combatUseItemLocked",tabIndex:"0",children:"Use Item"},"useItem")))):t.push(Object(u.jsx)("div",{className:"action",id:"turnContinue",onClick:e.turnContinue,onKeyDown:e.keyCheck,tabIndex:"0",children:"Continue"},"turnContinue")):t.push(Object(u.jsx)("div",{className:"action",id:"combatGameOver",onClick:e.gameOver,onKeyDown:e.keyCheck,tabIndex:"0",children:"You have been defeated!"},"combatGameOver")),t},e.keyCheck=function(t){if(32===t.keyCode)switch(t.target.id){default:break;case"combatAttack":e.attack();break;case"combatCast":e.cast();break;case"combatCancelSpell":e.cancelSpell();break;case"combatChangeWeapon":e.changeWeapon();break;case"turnContinue":e.turnContinue();break;case"combatEnd":e.combatEnd();break;case"combatGameOver":e.gameOver();break;case"combatUseItem":e.useItem()}},e.attack=function(){var t=function(){switch(e.props.equippedItems.weapon.stat){default:break;case"strength":return Math.floor(e.props.stats.stat.strength/4);case"dexterity":return Math.floor(e.props.stats.stat.dexterity/4);case"intelligence":return Math.floor(e.props.stats.stat.intelligence/4);case"vitality":return Math.floor(e.props.stats.stat.vitality/4)}},a=e.props.equippedItems.weapon,n=function(e,a,n){var s=0;switch(e){default:break;case"d4":for(var o=0;o<a;o++)s+=R();return s+t()+n;case"d6":for(var r=0;r<a;r++)s+=E();return s+t()+n;case"d8":for(var i=0;i<a;i++)s+=W();return s+t()+n;case"d10":for(var l=0;l<a;l++)s+=Y();return s+t()+n;case"d12":for(var c=0;c<a;c++)s+=L();return s+t()+n;case"d20":for(var p=0;p<a;p++)s+=D();return s+t()+n}}(a.damage.substring(a.damage.length,a.damage.indexOf("d")),a.damage.substring(0,a.damage.indexOf("d")),a.bonus);e.props.enemyHitPointsUpdate(n),e.props.damageDisplay(n),e.props.damageBreakdown(n-t()-a.bonus,t()),e.props.turnOrder()},e.cast=function(){e.props.combatSpellHandler(!0)},e.changeWeapon=function(){e.props.weaponSwapHandler(!0)},e.useItem=function(){e.props.combatItemHandler(!0)},e.combatEnd=function(){e.props.spellDurationClear(5),e.props.armourBonusUpdate(0),e.props.combatLock(!1),e.props.allocateHandler(!0,e.props.enemy.statPointReward),e.props.mainHandler(window.$combatValueSnapshot,1)},e.gameOver=function(){e.props.gameover()},e.turnContinue=function(){var t=[],a=[],n=[],s=[];!function(){switch(e.props.enemy.id){case 1:if(e.props.enemy.hitPoints>=e.props.enemy.maxHitPoints/2){t=["Sword"];break}t=["Sword","Bone Throw"];break;case 2:if(Y()>4){t=["Bite"];break}t=["Acid"];break;case 3:if(e.props.enemy.hitPoints<=e.props.enemy.maxHitPoints/4&&0===e.props.enemyHealing.length){t=["Renewal"];break}if(Y()<4){t=["Bite","Claw"];break}if(W()<=3){t=["Claw"];break}t=["Bite"]}t.forEach((function(t){var n=e.props.enemy.abilities;a.push(n.find((function(e){return e.name===t})))}))}();for(var o=function(t){var o=a[t];if("attack"===o.type){var r=function(t,a){var n=0;switch(t){default:break;case"d4":for(var s=0;s<a;s++)n+=R();return n+o.damageBonus-e.props.armour;case"d6":for(var r=0;r<a;r++)n+=E();return n+o.damageBonus-e.props.armour;case"d8":for(var i=0;i<a;i++)n+=W();return n+o.damageBonus-e.props.armour;case"d10":for(var l=0;l<a;l++)n+=Y();return n+o.damageBonus-e.props.armour;case"d12":for(var c=0;c<a;c++)n+=L();return n+o.damageBonus-e.props.armour;case"d20":for(var p=0;p<a;p++)n+=D();return n+o.damageBonus-e.props.armour}}(o.damage.substring(o.damage.length,o.damage.indexOf("d")),o.damage.substring(0,o.damage.indexOf("d")));n.push(r);var i=n.reduce((function(e,t){return e+t}));i>0&&e.props.hitPointsUpdate(-i)}else if("heal"===o.type){var l=function(e,t){var a=0;switch(e){default:break;case"d4":for(var n=0;n<t;n++)a+=R();return a+o.healBonus;case"d6":for(var s=0;s<t;s++)a+=E();return a+o.healBonus;case"d8":for(var r=0;r<t;r++)a+=W();return a+o.healBonus;case"d10":for(var i=0;i<t;i++)a+=Y();return a+o.healBonus;case"d12":for(var l=0;l<t;l++)a+=L();return a+o.healBonus;case"d20":for(var c=0;c<t;c++)a+=D();return a+o.healBonus}}(o.healing.substring(o.healing.length,o.healing.indexOf("d")),o.healing.substring(0,o.healing.indexOf("d")));s.push(l);var c=s.reduce((function(e,t){return e+t}));c>0&&e.props.enemyHitPointsUpdate(-c)}},r=0;r<a.length;r++)o(r);e.props.enemyActionUpdate(a,n,s),e.props.turnOrder()},e}return Object(c.a)(a,[{key:"render",value:function(){return this.props.enemy.hitPoints>0?Object(u.jsx)("div",{className:"actions",children:this.actionRender()}):Object(u.jsx)("div",{className:"actions",children:Object(u.jsx)("div",{className:"action",id:"combatEnd",onClick:this.combatEnd,onKeyDown:this.keyCheck,tabIndex:"0",children:"Continue"},"combatEnd")})}}]),a}(s.a.Component),te=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).turnOrder=function(){"player"===n.state.combatTurn?n.setState({combatTurn:"enemy"}):(n.props.spellCooldownUpdate(),n.props.spellDurationUpdate(),0===n.props.spellDuration.shield&&n.props.armourBonusUpdate(0),n.props.combatLock(!1),n.setState({playerDamage:0,playerHealing:0,combatTurn:"player"}))},n.damageDisplay=function(e){n.setState({playerDamage:e})},n.healingDisplay=function(e){n.setState({playerHealing:e})},n.damageBreakdown=function(e,t,a){n.setState({playerDamageBreakdown:[e,t,a]})},n.enemyAction=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n.setState({enemyAction:e,enemyDamage:t,enemyHealing:a})},n.combatPreviousSpellHandler=function(e){n.setState({combatPreviousSpell:e})},n.render=function(){return Object(u.jsxs)("div",{id:"combatDiv",children:[Object(u.jsx)("div",{className:"text",children:Object(u.jsx)(H,Object(i.a)(Object(i.a)({},n.state),n.props))}),Object(u.jsx)("div",{id:"actionContainer",children:Object(u.jsx)(ee,Object(i.a)(Object(i.a)(Object(i.a)({},n.state),n.props),{},{turnOrder:n.turnOrder,damageDisplay:n.damageDisplay,enemyActionUpdate:n.enemyAction,damageBreakdown:n.damageBreakdown,previousSpellHandler:n.combatPreviousSpellHandler,healingDisplay:n.healingDisplay}))})]})},n.state={combatTurn:"player",playerDamage:0,playerHealing:0,playerDamageBreakdown:[],combatPreviousSpell:"",enemyAction:[],enemyDamage:[],enemyHealing:[]},n}return a}(s.a.Component),ae=[{id:1,name:"Skeleton",hitPoints:12,maxHitPoints:12,statPointReward:2,abilities:[{id:1,name:"Sword",type:"attack",damage:"1d4",damageBonus:1,description:"The Skeleton swings wildly at you with its sword."},{id:2,name:"Bone Throw",type:"attack",damage:"1d4",damageBonus:0,description:"The Skeleton also pulls one of its own bones from its body and hurls it at you."}]},{id:2,name:"Mimic",hitPoints:30,maxHitPoints:30,statPointReward:4,abilities:[{id:1,name:"Bite",type:"attack",damage:"1d8",damageBonus:0,description:"The mimic gnashes at you with its sharp teeth."},{id:2,name:"Acid",type:"attack",damage:"1d12",damageBonus:2,description:"The mimic spits a globule of acid at you."}]},{id:3,name:"Sphinx",hitPoints:45,maxHitPoints:45,statPointReward:8,abilities:[{id:1,name:"Bite",type:"attack",damage:"1d8",damageBonus:1,description:"The sphinx bites at you with her huge teeth."},{id:2,name:"Claw",type:"attack",damage:"3d4",damageBonus:3,description:"The sphinx strikes at you with her claw."},{id:3,name:"Renewal",type:"heal",healing:"3d4",healBonus:4,description:"The sphinx channels magic to heal her wounds."}]}],ne=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).refreshPage=function(){window.location.reload()},e}return Object(c.a)(a,[{key:"render",value:function(){return Object(u.jsxs)("div",{id:"gameover",children:[Object(u.jsx)("div",{children:"Your adventure is at an end."}),Object(u.jsx)("div",{children:"Will you try again?"}),Object(u.jsx)("div",{id:"restart",onClick:this.refreshPage,children:"New Adventure"})]})}}]),a}(s.a.Component),se=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){return n.statisticHandler(0,0,0,0)},n.allocateHandler=function(e,t){n.setState({allocate:{allocate:e,points:t}})},n.hitPointsHandler=function(e){var t,a=n.state.hitPoints+e;t=a<0?0:a>n.state.maxHitPoints?n.state.maxHitPoints:a,n.setState({hitPoints:t}),e>0&&n.setState({healing:e})},n.hitPointsMaxHandler=function(e){var t=n.state.maxHitPoints+e,a=n.state.hitPoints+e;n.setState({maxHitPoints:t,hitPoints:a})},n.healingHandler=function(){n.setState({healing:0})},n.armourHandler=function(){var e,t=n.state.equippedItems,a=[],s=n.state.armourBonus;for(var o in t)t[o].hasOwnProperty("armour")&&(a.push(t[o].armour),e=a.reduce((function(e,t){return e+t})));void 0===e&&(e=0),e+=s,n.setState({armour:e})},n.armourBonusHandler=function(e){n.setState({armourBonus:e},(function(){n.armourHandler()}))},n.statisticHandler=function(e,t,a,s){var o=n.state.stats.stat.strength+e,r=n.state.stats.stat.dexterity+t,i=n.state.stats.stat.intelligence+a,l=n.state.stats.stat.vitality+s,c=n.state.maxHitPoints-n.state.stats.stat.vitality,p=n.state.hitPoints-n.state.stats.stat.vitality;n.setState({stats:{stat:{strength:o,dexterity:r,intelligence:i,vitality:l}},maxHitPoints:c+l,hitPoints:p+l})},n.actionLock=function(e,t){var a=JSON.parse(JSON.stringify(n.state.actionCases)),s="case"+e;a[s][t];a[s][t]=false;var o=a;n.setState({actionCases:o})},n.inventorySort=function(e,t){var a=e.name.toUpperCase(),n=t.name.toUpperCase();return a<n?-1:a>n?1:0},n.inventoryUpdate=function(){var e=n.state.inventoryContents.slice(),t=[],a=q;function s(e){t.push(a.find((function(t){return t.id===e})))}for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];r.forEach((function(e){s(e)}));var l=e.concat([t]),c=l.flat();c.sort(n.inventorySort),n.setState((function(){return{inventoryContents:c}}))},n.inventoryRemove=function(){for(var e=n.state.inventoryContents.slice(),t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];a.forEach((function(t){var a=e.findIndex((function(e){return e.id===t}));e.splice(a,1)})),n.setState({inventoryContents:e})},n.spellUpdate=function(){var e=n.state.spellbook.slice(),t=[];function a(e){t.push(B.find((function(t){return t.id===e})))}for(var s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];o.forEach((function(e){a(e)}));var i=e.concat([t]),l=i.flat();l.sort(n.inventorySort),n.setState({spellbook:l})},n.equipUpdate=function(e){var t=Object(i.a)({},n.state.equippedItems),a=n.state.inventoryContents.filter((function(t){return t!==e}));switch(e.equipSlot){default:break;case"head":t.head=e,""!==n.state.equippedItems.head&&a.push(n.state.equippedItems.head),n.props.mainHandler("inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()}));break;case"torso":t.torso=e,""!==n.state.equippedItems.torso&&a.push(n.state.equippedItems.torso),n.props.mainHandler("inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()}));break;case"legs":t.legs=e,""!==n.state.equippedItems.legs&&a.push(n.state.equippedItems.legs),n.props.mainHandler("inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()}));break;case"boots":t.boots=e,""!==n.state.equippedItems.boots&&a.push(n.state.equippedItems.boots),n.props.mainHandler("inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()}));break;case"gloves":t.gloves=e,""!==n.state.equippedItems.gloves&&a.push(n.state.equippedItems.gloves),n.props.mainHandler("inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()}));break;case"weapon":t.weapon=e,""!==n.state.equippedItems.weapon&&a.push(n.state.equippedItems.weapon),n.props.mainHandler("combat"===n.props.value?"combat":"inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()})),"combat"===n.props.value&&(n.setState({weaponSwap:!1}),n.combatLock(!0))}},n.unequipUpdate=function(e){var t=Object(i.a)({},n.state.equippedItems),a=n.state.inventoryContents;switch(e.equipSlot){default:break;case"head":t.head="",a.push(e),n.props.mainHandler("inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()}));break;case"torso":t.torso="",a.push(e),n.props.mainHandler("inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()}));break;case"legs":t.legs="",a.push(e),n.props.mainHandler("inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()}));break;case"boots":t.boots="",a.push(e),n.props.mainHandler("inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()}));break;case"gloves":t.gloves="",a.push(e),n.props.mainHandler("inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()}));break;case"weapon":t.weapon="",a.push(e),n.props.mainHandler("inventory",a.length),n.setState({equippedItems:t,inventoryContents:a.sort(n.inventorySort)},(function(){n.armourHandler()}))}n.armourHandler()},n.enemyNumber=function(e){n.setState({enemy:ae.find((function(t){return t.id===e}))})},n.enemyHitPointHandler=function(e){var t=n.state.enemy.hitPoints;n.setState((function(a){return{enemy:Object(i.a)(Object(i.a)({},a.enemy),{},{hitPoints:t-e})}}))},n.combatWeaponSwapHandler=function(e){n.setState({weaponSwap:e})},n.combatSpellHandler=function(e){n.setState({combatSpell:e})},n.combatItemHandler=function(e){n.setState({combatItem:e})},n.shuffle=function(e){for(var t,a=e.length;0!==a;){t=Math.floor(Math.random()*a),a--;var n=[e[t],e[a]];e[a]=n[0],e[t]=n[1]}return e},n.spellPicker=function(){window.$spellPickerValueSnapshot=n.props.value,window.$spellPickerActionSnapshot=n.props.actionNum;var e=n.state.spellbook.slice(),t=B.filter((function(t){return!e.includes(t)}));t.filter((function(e){return 11===!e.id}));var a=n.shuffle(t);n.spellUpdate(a[0].id),n.setState({latestSpell:a[0]})},n.itemPicker=function(e,t){var a,s=n.state.inventoryContents.slice(),o=n.state.equippedItems,r=[];for(var i in o)o[i].hasOwnProperty("id")&&s.push(o[i]);var l=q.filter((function(e){return e.hasOwnProperty("treasure")})),c=l.filter((function(e){return 1!==e.treasure}));c=c.filter((function(e){return!s.includes(e)}));for(var p=l.filter((function(e){return 1===e.treasure})),d=0;d<p.length;d++)c.push(p[d]);c.filter((function(t){return t.treasure<=e}));for(var u=function(e){var t=function(e){for(var t,a=e.length;0!==a;){t=Math.floor(Math.random()*a),a--;var n=[e[t],e[a]];e[a]=n[0],e[t]=n[1]}return e}(c.slice());1!==t[0].treasure?(c.splice(c.findIndex((function(e){return e.id===t[0].id})),1),r.push(t.shift().id)):r.push(t.shift().id)},h=0;h<t;h++)u();(a=n).inventoryUpdate.apply(a,r);for(var m=0;m<=r.length;m++)3===r[m]&&n.spellPicker();for(var b=[],f=function(e){b.push(q.find((function(t){return t.id===r[e]})))},j=0;j<r.length;j++)f(j);n.setState({receivedItems:b})},n.previousSpellHandler=function(e){n.setState({previousSpell:e})},n.combatLock=function(e){n.setState({weaponSwapLock:e,itemUseLock:e})},n.requireInput=function(e){n.setState({inputRequired:e})},n.gameover=function(){n.setState({gameover:!0})},n.actionRender=function(){switch(n.props.value){case"inventory":return Object(u.jsxs)("div",{id:"actionContainer",children:[Object(u.jsx)(J,Object(i.a)(Object(i.a)(Object(i.a)({},n.state),n.props),{},{itemEquipHandler:n.equipUpdate,hitPointsUpdate:n.hitPointsHandler,inventoryRemove:n.inventoryRemove,spellPickerHandler:n.spellPicker})),Object(u.jsx)(_,Object(i.a)(Object(i.a)(Object(i.a)({},n.state),n.props),{},{hitPointsUpdate:n.hitPointsHandler,healingUpdate:n.healingHandler,previousSpellUpdate:n.previousSpellHandler}))]});default:return Object(u.jsx)("div",{id:"actionContainer",children:Object(u.jsx)(M,Object(i.a)(Object(i.a)(Object(i.a)({},n.state),n.props),{},{statsHandler:n.statisticHandler,allocateHandler:n.allocateHandler,inventoryHandler:n.inventoryUpdate,itemEquipHandler:n.equipUpdate,spellbookUpdate:n.spellUpdate,hitPointsUpdate:n.hitPointsHandler,hitPointsMaxHandler:n.hitPointsMaxHandler,enemyNumberUpdate:n.enemyNumber,inventoryRemove:n.inventoryRemove,lock:n.actionLock,spellPickerHandler:n.spellPicker,itemPickerHandler:n.itemPicker,requireInput:n.requireInput,gameover:n.gameover}))})}},n.shuffle=n.shuffle.bind(Object(m.a)(n)),n.state={gameover:!1,stats:{stat:{strength:0,dexterity:0,intelligence:0,vitality:0}},allocate:{allocate:!0,points:20},actionCases:{case5:[!0,!0,!0,!0],case8:[!0,!0,!0,!0],case12:[!0]},inventoryContents:[],equippedItems:{head:"",torso:"",legs:"",boots:"",gloves:"",weapon:""},spellbook:[],hitPoints:10,maxHitPoints:10,healing:0,enemy:"",weaponSwap:!1,combatSpell:!1,combatItem:!1,armour:0,armourBonus:0,latestSpell:{},previousSpell:"",receivedItems:[],weaponSwapLock:!1,itemUseLock:!1,allSpellsUnlocked:!1,inputRequired:!1},n}return Object(c.a)(a,[{key:"render",value:function(){return"combat"!==this.props.value?this.state.hitPoints<=0||!0===this.state.gameover?Object(u.jsx)("div",{id:"game",children:Object(u.jsx)(ne,{})}):Object(u.jsxs)("div",{id:"game",children:[Object(u.jsx)(N,Object(i.a)(Object(i.a)(Object(i.a)({},this.state),this.props),{},{statsHandler:this.statisticHandler,allocateHandler:this.allocateHandler,inventoryHandler:this.inventoryUpdate,itemEquipHandler:this.equipUpdate,itemUnequipHandler:this.unequipUpdate,spellbookUpdate:this.spellUpdate,inventoryRemove:this.inventoryRemove,gameover:this.gameover,healingUpdate:this.healingHandler})),this.actionRender()]}):!0===this.state.gameover?Object(u.jsx)("div",{id:"game",children:Object(u.jsx)(ne,{})}):Object(u.jsx)("div",{id:"game",children:Object(u.jsx)(te,Object(i.a)(Object(i.a)(Object(i.a)({},this.state),this.props),{},{statsHandler:this.statisticHandler,allocateHandler:this.allocateHandler,inventoryHandler:this.inventoryUpdate,itemEquipHandler:this.equipUpdate,spellbookUpdate:this.spellUpdate,hitPointsUpdate:this.hitPointsHandler,enemyHitPointsUpdate:this.enemyHitPointHandler,weaponSwapHandler:this.combatWeaponSwapHandler,combatSpellHandler:this.combatSpellHandler,combatItemHandler:this.combatItemHandler,inventoryRemove:this.inventoryRemove,armourBonusUpdate:this.armourBonusHandler,gameover:this.gameover,healingUpdate:this.healingHandler,combatLock:this.combatLock}))})}}]),a}(s.a.Component),oe=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).actionHandler=function(e,t){n.setState({value:e,actionNum:t})},n.gameStart=function(){n.actionHandler(0),n.chamberSelect(),n.setState({gameActive:!0,actionNum:3})},n.key=function(e){32===e.keyCode&&n.gameStart()},n.chamberSelect=function(){var e=[8,9,10,11,12].sort((function(e,t){return.5-Math.random()}));n.setState({chambers:e.splice(0,6)})},n.chamberUpdate=function(e){var t=n.state.chambers.slice().filter((function(t){return t!==e}));n.setState({chambers:t})},n.spellCooldownHandler=function(){var e=JSON.parse(JSON.stringify(n.state.spellCooldown));for(var t in e)e[t]>0&&(e[t]=e[t]-1);var a=e;n.setState({spellCooldown:a})},n.spellCooldownSet=function(e){var t=B.find((function(t){return t.id===e})),a=JSON.parse(JSON.stringify(n.state.spellCooldown));a[t.name.toLowerCase()]=t.cooldown;var s=a;n.setState({spellCooldown:s})},n.spellDurationHandler=function(){var e=JSON.parse(JSON.stringify(n.state.spellDuration));for(var t in e)e[t]>0&&(e[t]=e[t]-1);var a=e;n.setState({spellDuration:a})},n.spellDurationSet=function(e){var t=B.find((function(t){return t.id===e})),a=JSON.parse(JSON.stringify(n.state.spellDuration));a[t.name.toLowerCase()]=t.duration;var s=a;n.setState({spellDuration:s})},n.spellDurationClear=function(e){var t=B.find((function(t){return t.id===e})),a=JSON.parse(JSON.stringify(n.state.spellDuration));a[t.name.toLowerCase()]=0;var s=a;n.setState({spellDuration:s})},n.state={gameActive:!1,value:"",actionNum:0,chambers:[],spellCooldown:{heal:0,rejuvenate:0,"lightning bolt":0,fireball:0,"blade storm":0},spellDuration:{shield:0}},n}return Object(c.a)(a,[{key:"render",value:function(){return this.state.gameActive?Object(u.jsx)("div",{children:Object(u.jsx)(se,Object(i.a)(Object(i.a)({},this.state),{},{mainHandler:this.actionHandler,chamberHandler:this.chamberUpdate,spellCooldownUpdate:this.spellCooldownHandler,spellCooldownSet:this.spellCooldownSet,spellDurationUpdate:this.spellDurationHandler,spellDurationSet:this.spellDurationSet,spellDurationClear:this.spellDurationClear}))}):Object(u.jsx)("div",{onClick:this.gameStart,onKeyDown:this.key,tabIndex:"0",children:Object(u.jsx)(h,{})})}}]),a}(s.a.Component);window.$motive="",window.$inventoryValueSnapshot="",window.$inventoryActionSnapshot="",window.$combatValueSnapshot="",window.$spellPickerValueSnapshot="",window.$spellPickerActionSnapshot="",r.a.render(Object(u.jsx)(oe,{}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.b91add2e.chunk.js.map